function We(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Fe=()=>{},Ue=Object.prototype.hasOwnProperty,F=(e,t)=>Ue.call(e,t),b=Array.isArray,k=e=>_e(e)==="[object Map]",I=e=>typeof e=="function",ze=e=>typeof e=="string",B=e=>typeof e=="symbol",N=e=>e!==null&&typeof e=="object",Be=e=>(N(e)||I(e))&&I(e.then)&&I(e.catch),Ve=Object.prototype.toString,_e=e=>Ve.call(e),Ge=e=>_e(e).slice(8,-1),te=e=>ze(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,O=(e,t)=>!Object.is(e,t);let Ye;function $e(e,t=Ye){t&&t.active&&t.effects.push(e)}const Se=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ve=e=>(e.w&v)>0,Te=e=>(e.n&v)>0,Xe=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},Je=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];ve(s)&&!Te(s)?s.delete(e):t[n++]=s,s.w&=~v,s.n&=~v}t.length=n}},X=new WeakMap;let P=0,v=1;const J=30;let E;const R=Symbol(""),Q=Symbol("");class Qe{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$e(this,r)}run(){if(!this.active)return this.fn();let t=E,n=y;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=E,E=this,y=!0,v=1<<++P,P<=J?Xe(this):le(this),this.fn()}finally{P<=J&&Je(this),v=1<<--P,E=this.parent,y=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){E===this?this.deferStop=!0:this.active&&(le(this),this.onStop&&this.onStop(),this.active=!1)}}function le(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let y=!0;const Re=[];function Ze(){Re.push(y),y=!1}function xe(){const e=Re.pop();y=e===void 0?!0:e}function p(e,t,n){if(y&&E){let r=X.get(e);r||X.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Se()),et(s)}}function et(e,t){let n=!1;P<=J?Te(e)||(e.n|=v,n=!ve(e)):n=!e.has(E),n&&(e.add(E),E.deps.push(e))}function S(e,t,n,r,s,o){const a=X.get(e);if(!a)return;let i=[];if(t==="clear")i=[...a.values()];else if(n==="length"&&b(e)){const c=Number(r);a.forEach((h,u)=>{(u==="length"||!B(u)&&u>=c)&&i.push(h)})}else switch(n!==void 0&&i.push(a.get(n)),t){case"add":b(e)?te(n)&&i.push(a.get("length")):(i.push(a.get(R)),k(e)&&i.push(a.get(Q)));break;case"delete":b(e)||(i.push(a.get(R)),k(e)&&i.push(a.get(Q)));break;case"set":k(e)&&i.push(a.get(R));break}if(i.length===1)i[0]&&ue(i[0]);else{const c=[];for(const h of i)h&&c.push(...h);ue(Se(c))}}function ue(e,t){const n=b(e)?e:[...e];for(const r of n)r.computed&&fe(r);for(const r of n)r.computed||fe(r)}function fe(e,t){(e!==E||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const tt=We("__proto__,__v_isRef,__isVue"),ye=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(B)),he=nt();function nt(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=l(this);for(let o=0,a=this.length;o<a;o++)p(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(l)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ze();const r=l(this)[t].apply(this,n);return xe(),r}}),e}function rt(e){const t=l(this);return p(t,"has",e),t.hasOwnProperty(e)}class Me{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&r===(s?o?wt:Ae:o?gt:Oe).get(t))return t;const a=b(t);if(!s){if(a&&F(he,n))return Reflect.get(he,n,r);if(n==="hasOwnProperty")return rt}const i=Reflect.get(t,n,r);return(B(n)?ye.has(n):tt(n))||(s||p(t,"get",n),o)?i:T(i)?a&&te(n)?i:i.value:N(i)?s?Ne(i):G(i):i}}class st extends Me{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(U(o)&&T(o)&&!T(r))return!1;if(!this._shallow&&(!Ce(r)&&!U(r)&&(o=l(o),r=l(r)),!b(t)&&T(o)&&!T(r)))return o.value=r,!0;const a=b(t)&&te(n)?Number(n)<t.length:F(t,n),i=Reflect.set(t,n,r,s);return t===l(s)&&(a?O(r,o)&&S(t,"set",n,r):S(t,"add",n,r)),i}deleteProperty(t,n){const r=F(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&S(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!B(n)||!ye.has(n))&&p(t,"has",n),r}ownKeys(t){return p(t,"iterate",b(t)?"length":R),Reflect.ownKeys(t)}}class ot extends Me{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const it=new st,at=new ot,ne=e=>e,V=e=>Reflect.getPrototypeOf(e);function L(e,t,n=!1,r=!1){e=e.__v_raw;const s=l(e),o=l(t);n||(O(t,o)&&p(s,"get",t),p(s,"get",o));const{has:a}=V(s),i=r?ne:n?se:re;if(a.call(s,t))return i(e.get(t));if(a.call(s,o))return i(e.get(o));e!==s&&e.get(t)}function K(e,t=!1){const n=this.__v_raw,r=l(n),s=l(e);return t||(O(e,s)&&p(r,"has",e),p(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function j(e,t=!1){return e=e.__v_raw,!t&&p(l(e),"iterate",R),Reflect.get(e,"size",e)}function de(e){e=l(e);const t=l(this);return V(t).has.call(t,e)||(t.add(e),S(t,"add",e,e)),this}function pe(e,t){t=l(t);const n=l(this),{has:r,get:s}=V(n);let o=r.call(n,e);o||(e=l(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?O(t,a)&&S(n,"set",e,t):S(n,"add",e,t),this}function ge(e){const t=l(this),{has:n,get:r}=V(t);let s=n.call(t,e);s||(e=l(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&S(t,"delete",e,void 0),o}function we(){const e=l(this),t=e.size!==0,n=e.clear();return t&&S(e,"clear",void 0,void 0),n}function q(e,t){return function(r,s){const o=this,a=o.__v_raw,i=l(a),c=t?ne:e?se:re;return!e&&p(i,"iterate",R),a.forEach((h,u)=>r.call(s,c(h),c(u),o))}}function H(e,t,n){return function(...r){const s=this.__v_raw,o=l(s),a=k(o),i=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=s[e](...r),u=n?ne:t?se:re;return!t&&p(o,"iterate",c?Q:R),{next(){const{value:d,done:w}=h.next();return w?{value:d,done:w}:{value:i?[u(d[0]),u(d[1])]:u(d),done:w}},[Symbol.iterator](){return this}}}}function _(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ct(){const e={get(o){return L(this,o)},get size(){return j(this)},has:K,add:de,set:pe,delete:ge,clear:we,forEach:q(!1,!1)},t={get(o){return L(this,o,!1,!0)},get size(){return j(this)},has:K,add:de,set:pe,delete:ge,clear:we,forEach:q(!1,!0)},n={get(o){return L(this,o,!0)},get size(){return j(this,!0)},has(o){return K.call(this,o,!0)},add:_("add"),set:_("set"),delete:_("delete"),clear:_("clear"),forEach:q(!0,!1)},r={get(o){return L(this,o,!0,!0)},get size(){return j(this,!0)},has(o){return K.call(this,o,!0)},add:_("add"),set:_("set"),delete:_("delete"),clear:_("clear"),forEach:q(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=H(o,!1,!1),n[o]=H(o,!0,!1),t[o]=H(o,!1,!0),r[o]=H(o,!0,!0)}),[e,n,t,r]}const[lt,ut,ft,ht]=ct();function Ie(e,t){const n=t?e?ht:ft:e?ut:lt;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(F(n,s)&&s in r?n:r,s,o)}const dt={get:Ie(!1,!1)},pt={get:Ie(!0,!1)},Oe=new WeakMap,gt=new WeakMap,Ae=new WeakMap,wt=new WeakMap;function mt(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Et(e){return e.__v_skip||!Object.isExtensible(e)?0:mt(Ge(e))}function G(e){return U(e)?e:Pe(e,!1,it,dt,Oe)}function Ne(e){return Pe(e,!0,at,pt,Ae)}function Pe(e,t,n,r,s){if(!N(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=Et(e);if(a===0)return e;const i=new Proxy(e,a===2?r:n);return s.set(e,i),i}function D(e){return U(e)?D(e.__v_raw):!!(e&&e.__v_isReactive)}function U(e){return!!(e&&e.__v_isReadonly)}function Ce(e){return!!(e&&e.__v_isShallow)}function l(e){const t=e&&e.__v_raw;return t?l(t):e}const re=e=>N(e)?G(e):e,se=e=>N(e)?Ne(e):e;function T(e){return!!(e&&e.__v_isRef===!0)}function W(e,t,n){let r;try{r=n?e(...n):e()}catch(s){Le(s,t)}return r}function Z(e,t,n){if(I(e)){const s=W(e,t,n);return s&&Be(s)&&s.catch(o=>{Le(o,t)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(Z(e[s],t,n));return r}function Le(e,t){console.error(new Error(`[@vue-reactivity/watch]: ${t}`)),console.error(e)}function bt(e){console.warn(_t(e))}function _t(e){return new Error(`[reactivue]: ${e}`)}var me={};function Ke(e,t,n){return St(e,t,n)}function St(e,t,{immediate:n,deep:r,flush:s}={}){let o,a=!1,i=!1;if(T(e)?(o=()=>e.value,a=Ce(e)):D(e)?(o=()=>e,r=!0):b(e)?(i=!0,a=e.some(D),o=()=>e.map(f=>T(f)?f.value:D(f)?M(f):I(f)?W(f,"watch getter"):bt("invalid source"))):I(e)?t?o=()=>W(e,"watch getter"):o=()=>(c&&c(),Z(e,"watch callback",[h])):o=Fe,t&&r){const f=o;o=()=>M(f())}let c,h=f=>{c=m.onStop=()=>{W(f,"watch cleanup")}},u=i?[]:me;const d=()=>{if(m.active)if(t){const f=m.run();(r||a||(i?f.some(($,De)=>O($,u[De])):O(f,u)))&&(c&&c(),Z(t,"watch value",[f,u===me?void 0:u,h]),u=f)}else m.run()};d.allowRecurse=!!t;let w;s==="sync"?w=d:w=()=>{d()};const m=new Qe(o,w);return t?n?d():u=m.run():m.run(),()=>m.stop()}function M(e,t=new Set){if(!N(e)||t.has(e))return e;if(t.add(e),b(e))for(let n=0;n<e.length;n++)M(e[n],t);else if(e instanceof Map)e.forEach((n,r)=>{M(e.get(r),t)});else if(e instanceof Set)e.forEach(n=>{M(n,t)});else for(const n of Object.keys(e))M(e[n],t);return e}let x="";const g=G({state:"loading",contexts:[],sseSources:[]}),je={contexts:[]};Ke(()=>g.contexts,(e,t)=>{if(g.state==="interactive"||g.state==="complete")for(const n of e)t.includes(n)||n.sourceElement&&n.sourceElement.dispatchEvent(new CustomEvent("kilo:load"))});const vt=new MutationObserver(e=>{for(const t of e)for(const n of t.removedNodes){if(n.nodeType!==Node.ELEMENT_NODE)continue;const r=n;for(const s of je.contexts)if(s.bindings){for(const o in s.bindings)if(s.bindings[o].element===r){for(const i of s.bindings[o].events)s.bindings[o].element.removeEventListener("change",s.bindings[o].handler);He(s)(o,s.bindings[o].selector)}}}});document.addEventListener("readystatechange",e=>{if(g.state=document.readyState,document.readyState==="interactive"||g.state==="complete"){vt.observe(document.body,{childList:!0,subtree:!0});for(const t of g.contexts)t.sourceElement&&t.sourceElement.dispatchEvent(new CustomEvent("kilo:load"));for(const t of g.sseSources)t.handler&&t.source.addEventListener("message",t.handler)}});function Tt(e){return t=>{try{const n=t;if(e.isPaused){e.queue.push(n);return}const r=JSON.parse(n.data),s=document.querySelector(r["x-kilo-target"]),o=r["x-kilo-swap"],a=r["x-kilo-markup"];if(!s)throw new Error("Target element not found");oe({selector:r["x-kilo-target"],sourceElement:s,targetElement:s,triggerEvent:null,trigger:async()=>{},actor:null,swapper:null,beforeActor:null,afterActor:null},o,a)}catch(n){console.error(n),console.error(t)}}}async function oe(e,t,n){var u,d,w;let r=e.targetElement;if(!r){if(!e.sourceElement)throw new Error("Element is not defined");r=e.sourceElement}const s=t.split(" "),o=s[0],a=s.length>1?s[1]:"",i=document.createRange();i.selectNode(r);const c=i.createContextualFragment(n),h=c.firstChild;switch(o){case"innerHTML":for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(c);break;case"outerHTML":(u=r.parentNode)==null||u.replaceChild(c,r);break;case"beforebegin":(d=r.parentNode)==null||d.insertBefore(c,r);break;case"afterbegin":r.insertBefore(c,r.firstChild);break;case"beforeend":r.appendChild(c);break;case"afterend":(w=r.parentNode)==null||w.insertBefore(c,r.nextSibling);break}if(a){const m=a.split(":"),f=m[0],$=m[1];switch(f){case"scroll":switch($){case"view":h.scrollIntoView();break}break}}}function Rt(e,t){const n=new FormData(e);switch(t.method){case"GET":t.url=t.url+"?"+new URLSearchParams(n).toString();break;case"POST":t.body=n;break}}async function Ee(e,t,n){const r=typeof t=="string"?t:t(e);new FormData;const s={url:x+r,contentType:"",cancel:!1,method:n};if(e.sourceElement.tagName==="FORM"){const i=e.sourceElement;Rt(i,s)}if(e.beforeActor&&(await e.beforeActor(s),s.cancel))return;const o=await fetch(s.url,s);if(e.afterActor&&!await e.afterActor(o))return;if(e.swapper)return e.swapper(o);const a=await o.text();return oe(e,"innerHTML",a)}function be(e){return{swap:t=>(e.swapper=async n=>{const r=await n.text();return oe(e,t,r)},{...ie(e)}),...C(e)}}function z(e){return{target:t=>(typeof t=="string"?e.targetElement=document.querySelector(t):e.targetElement=t(e),be(e)),before:t=>(e.beforeActor=t,z(e)),after:t=>(e.afterActor=t,z(e)),...be(e),...C(e)}}function C(e){return{retrigger:()=>{if(!e.actor)throw new Error("No actor available");e.actor(null)}}}function ie(e){if(!e.sourceElement)throw new Error("source element is not defined");if(!e.triggerEvent)switch(e.sourceElement.tagName){case"BUTTON":e.triggerEvent="click";break;case"FORM":e.triggerEvent="submit";break;default:e.triggerEvent="kilo:load";break}return e.sourceElement.addEventListener(e.triggerEvent,e.trigger),{get:t=>(e.actor=async n=>{n==null||n.preventDefault(),Ee(e,t,"GET")},{...z(e),...C(e)}),post:t=>(e.actor=async n=>{n==null||n.preventDefault(),Ee(e,t,"POST")},{...z(e),...C(e)}),...C(e)}}function yt(e){return{on:t=>{if(!e.sourceElement)throw new Error("Element is not defined");return e.triggerEvent=t,ie(e)}}}function ee(e){return{pause:t=>{if(e.isPaused=t,!e.handler)return ee(e);if(!e.isPaused){for(;e.queue.length>0;){const n=e.queue.shift();n&&e.handler(n)}e.queue=[]}return ee(e)},clear:()=>{e.queue=[]},close:()=>{e.source.close(),g.sseSources=g.sseSources.filter(t=>t!==e)}}}function qe(){return{baseUrl:e=>(x=e,{...qe()}),sse:(e,t)=>{const n={withCredentials:!0,...t},r={source:new EventSource(x+e,n),isPaused:!1,handler:void 0,queue:[]};return r.handler=Tt(r),g.sseSources.push(r),ee(r)}}}function He(e){return(t,n)=>{const r=document.querySelector(n);if(!r)throw new Error("Element not found");const s=a=>{const i=a.target;switch(i.tagName){case"INPUT":const c=i;switch(c.type){case"checkbox":e.state[t]=c.checked;break;default:e.state[t]=c.value;break}break;case"SELECT":e.state[t]=i.value;break;case"TEXTAREA":e.state[t]=i.value;break}},o={field:t,selector:n,events:[],element:r,handler:s};switch(o.events.push("change"),e.bindings[t]=o,r.tagName){case"INPUT":switch(r.type){case"text":o.events.push("keyup");break}break;case"SELECT":o.events.push("select");break;case"TEXTAREA":o.events.push("keyup");break}for(const a of o.events)r.addEventListener(a,s);return{...ae(e)}}}function ae(e){return{model:e.state,watch:(t,n)=>(Ke(()=>e.state[t],async(r,s)=>{await n(r,s)}),{...ae(e)}),bind:He(e)}}function Y(e){const t=document.querySelector(e);if(!t)throw new Error("source element not founf");const n={selector:e,sourceElement:t,trigger:async r=>{if(!n.actor)throw new Error("No event handler specified");n.actor(r)},targetElement:null,triggerEvent:null,actor:null,swapper:null,beforeActor:null,afterActor:null};return g.contexts.push(n),{...yt(n),...ie(n)}}function Mt(e){const t={state:G(e),bindings:{}};return je.contexts.push(t),{...ae(t)}}function ke(){return qe()}ke().baseUrl("http://localhost:4001");const ce=ke().sse("/sse?stream=events",{withCredentials:!1}),A=Mt({searchText:"",runId:0,isShowingSearchResults:!1}).bind("searchText","#search-input").bind("runId","#search-select"),It=Y("#search-select").get("/components/search-select").swap("outerHTML"),Ot=Y("#log-output-inner").get("/actions/search"),At=Y("#search-form").get("/actions/search").before(()=>{A.model.isShowingSearchResults=!0}).target("#log-output-inner");A.watch("searchText",e=>{const t=e.length>0;t||(A.model.isShowingSearchResults=!1),ce.pause(t);const n=document.querySelector(".blinking-cursor");n&&(n.style.visibility=t?"hidden":"visible")});A.watch("isShowingSearchResults",e=>{e||(ce.clear(),It.retrigger(),Ot.retrigger())});A.watch("runId",e=>{const n=document.querySelector("#search-select").getAttribute("data-current-run-id"),r=e!=n;ce.pause(r),r&&A.model.searchText.length>0&&At.retrigger();const s=document.querySelector(".blinking-cursor");s&&(s.style.visibility=r?"hidden":"visible")});Y("#restart").post("/actions/restart").swap("none");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0B2dWUrc2hhcmVkQDMuMy45L25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9AdnVlK3JlYWN0aXZpdHlAMy4zLjkvbm9kZV9tb2R1bGVzL0B2dWUvcmVhY3Rpdml0eS9kaXN0L3JlYWN0aXZpdHkuZXNtLWJ1bmRsZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vQHZ1ZS1yZWFjdGl2aXR5K3dhdGNoQDAuMi4wX0B2dWUrcmVhY3Rpdml0eUAzLjMuOV9AdnVlK3NoYXJlZEAzLjMuOS9ub2RlX21vZHVsZXMvQHZ1ZS1yZWFjdGl2aXR5L3dhdGNoL2Rpc3QvaW5kZXgubWpzIiwiLi4vbGliL2tpbG8udHMiLCIuLi9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gIGNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCBsaXN0ID0gc3RyLnNwbGl0KFwiLFwiKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZSA/ICh2YWwpID0+ICEhbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXSA6ICh2YWwpID0+ICEhbWFwW3ZhbF07XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBvblJFID0gL15vblteYS16XS87XG5jb25zdCBpc09uID0gKGtleSkgPT4gb25SRS50ZXN0KGtleSk7XG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIm9uVXBkYXRlOlwiKTtcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xuICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xuICBpZiAoaSA+IC0xKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxufTtcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBNYXBdXCI7XG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgU2V0XVwiO1xuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFJlZ0V4cF1cIjtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCI7XG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3ltYm9sXCI7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICByZXR1cm4gKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XG59O1xuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XG59O1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJiBrZXkgIT09IFwiTmFOXCIgJiYga2V5WzBdICE9PSBcIi1cIiAmJiBcIlwiICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIC8vIHRoZSBsZWFkaW5nIGNvbW1hIGlzIGludGVudGlvbmFsIHNvIGVtcHR5IHN0cmluZyBcIlwiIGlzIGFsc28gaW5jbHVkZWRcbiAgXCIsa2V5LHJlZixyZWZfZm9yLHJlZl9rZXksb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLG9uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZFwiXG4pO1xuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQsbWVtb1wiXG4pO1xuY29uc3QgY2FjaGVTdHJpbmdGdW5jdGlvbiA9IChmbikgPT4ge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHN0cikgPT4ge1xuICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xuICB9O1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IGMgPyBjLnRvVXBwZXJDYXNlKCkgOiBcIlwiKTtcbn0pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICByZXR1cm4gcztcbn0pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKGFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuXG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgSE9JU1RFRGAsXG4gIFstMl06IGBCQUlMYFxufTtcblxuY29uc3Qgc2xvdEZsYWdzVGV4dCA9IHtcbiAgWzFdOiBcIlNUQUJMRVwiLFxuICBbMl06IFwiRFlOQU1JQ1wiLFxuICBbM106IFwiRk9SV0FSREVEXCJcbn07XG5cbmNvbnN0IEdMT0JBTFNfQUxMT1dFRCA9IFwiSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTixwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSxkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCxNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsQmlnSW50LGNvbnNvbGVcIjtcbmNvbnN0IGlzR2xvYmFsbHlBbGxvd2VkID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoR0xPQkFMU19BTExPV0VEKTtcbmNvbnN0IGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCA9IGlzR2xvYmFsbHlBbGxvd2VkO1xuXG5jb25zdCByYW5nZSA9IDI7XG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UsIHN0YXJ0ID0gMCwgZW5kID0gc291cmNlLmxlbmd0aCkge1xuICBsZXQgbGluZXMgPSBzb3VyY2Uuc3BsaXQoLyhcXHI/XFxuKS8pO1xuICBjb25zdCBuZXdsaW5lU2VxdWVuY2VzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDEpO1xuICBsaW5lcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAwKTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgY29uc3QgcmVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb3VudCArPSBsaW5lc1tpXS5sZW5ndGggKyAobmV3bGluZVNlcXVlbmNlc1tpXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2ldLmxlbmd0aCB8fCAwKTtcbiAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgIGZvciAobGV0IGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgIGAke2xpbmV9JHtcIiBcIi5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGluZVNlcUxlbmd0aCA9IG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGggfHwgMDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIChsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aCkpO1xuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiIFwiLnJlcGVhdChwYWQpICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xuICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKlteXSo/XFwqXFwvL2c7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNzc1RleHQucmVwbGFjZShzdHlsZUNvbW1lbnRSRSwgXCJcIikuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xuICBsZXQgcmV0ID0gXCJcIjtcbiAgaWYgKCFzdHlsZXMgfHwgaXNTdHJpbmcoc3R5bGVzKSkge1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoYC0tYCkgPyBrZXkgOiBoeXBoZW5hdGUoa2V5KTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0ICs9IGAke25vcm1hbGl6ZWRLZXl9OiR7dmFsdWV9O2A7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzcyh2YWx1ZSkge1xuICBsZXQgcmVzID0gXCJcIjtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJlcyA9IHZhbHVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNsYXNzKHZhbHVlW2ldKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIHJlcyArPSBub3JtYWxpemVkICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlW25hbWVdKSB7XG4gICAgICAgIHJlcyArPSBuYW1lICsgXCIgXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMudHJpbSgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcylcbiAgICByZXR1cm4gbnVsbDtcbiAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gIH1cbiAgaWYgKHN0eWxlKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG5jb25zdCBIVE1MX1RBR1MgPSBcImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGhncm91cCxoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290XCI7XG5jb25zdCBTVkdfVEFHUyA9IFwic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3XCI7XG5jb25zdCBWT0lEX1RBR1MgPSBcImFyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyXCI7XG5jb25zdCBpc0hUTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuY29uc3QgaXNTVkdUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5jb25zdCBpc1ZvaWRUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBzcGVjaWFsQm9vbGVhbkF0dHJzICsgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4saW5lcnQsbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYFxuKTtcbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIjtcbn1cbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcbiAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcbiAgfVxuICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcbiAgaWYgKGlzVW5zYWZlKSB7XG4gICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmU7XG59XG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcbiAgYWNjZXB0Q2hhcnNldDogXCJhY2NlcHQtY2hhcnNldFwiLFxuICBjbGFzc05hbWU6IFwiY2xhc3NcIixcbiAgaHRtbEZvcjogXCJmb3JcIixcbiAgaHR0cEVxdWl2OiBcImh0dHAtZXF1aXZcIlxufTtcbmNvbnN0IGlzS25vd25IdG1sQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbmVydCxpbnRlZ3JpdHksaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXBgXG4pO1xuY29uc3QgaXNLbm93blN2Z0F0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYHhtbG5zLGFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbGlnbm1lbnQtYmFzZWxpbmUsYWxwaGFiZXRpYyxhbXBsaXR1ZGUsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxhemltdXRoLGJhc2VGcmVxdWVuY3ksYmFzZWxpbmUtc2hpZnQsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixiaWFzLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY2xpcCxjbGlwUGF0aFVuaXRzLGNsaXAtcGF0aCxjbGlwLXJ1bGUsY29sb3IsY29sb3ItaW50ZXJwb2xhdGlvbixjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMsY29sb3ItcHJvZmlsZSxjb2xvci1yZW5kZXJpbmcsY29udGVudFNjcmlwdFR5cGUsY29udGVudFN0eWxlVHlwZSxjcm9zc29yaWdpbixjdXJzb3IsY3gsY3ksZCxkZWNlbGVyYXRlLGRlc2NlbnQsZGlmZnVzZUNvbnN0YW50LGRpcmVjdGlvbixkaXNwbGF5LGRpdmlzb3IsZG9taW5hbnQtYmFzZWxpbmUsZHVyLGR4LGR5LGVkZ2VNb2RlLGVsZXZhdGlvbixlbmFibGUtYmFja2dyb3VuZCxlbmQsZXhwb25lbnQsZmlsbCxmaWxsLW9wYWNpdHksZmlsbC1ydWxlLGZpbHRlcixmaWx0ZXJSZXMsZmlsdGVyVW5pdHMsZmxvb2QtY29sb3IsZmxvb2Qtb3BhY2l0eSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zaXplLWFkanVzdCxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZm9ybWF0LGZyb20sZnIsZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsLGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsLGdseXBoUmVmLGdyYWRpZW50VHJhbnNmb3JtLGdyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaHJlZixocmVmbGFuZyxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZCxpZGVvZ3JhcGhpYyxpbWFnZS1yZW5kZXJpbmcsaW4saW4yLGludGVyY2VwdCxrLGsxLGsyLGszLGs0LGtlcm5lbE1hdHJpeCxrZXJuZWxVbml0TGVuZ3RoLGtlcm5pbmcsa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxsZW5ndGhBZGp1c3QsbGV0dGVyLXNwYWNpbmcsbGlnaHRpbmctY29sb3IsbGltaXRpbmdDb25lQW5nbGUsbG9jYWwsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsbWFya2VyV2lkdGgsbWFzayxtYXNrQ29udGVudFVuaXRzLG1hc2tVbml0cyxtYXRoZW1hdGljYWwsbWF4LG1lZGlhLG1ldGhvZCxtaW4sbW9kZSxuYW1lLG51bU9jdGF2ZXMsb2Zmc2V0LG9wYWNpdHksb3BlcmF0b3Isb3JkZXIsb3JpZW50LG9yaWVudGF0aW9uLG9yaWdpbixvdmVyZmxvdyxvdmVybGluZS1wb3NpdGlvbixvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGFpbnQtb3JkZXIscGF0aCxwYXRoTGVuZ3RoLHBhdHRlcm5Db250ZW50VW5pdHMscGF0dGVyblRyYW5zZm9ybSxwYXR0ZXJuVW5pdHMscGluZyxwb2ludGVyLWV2ZW50cyxwb2ludHMscG9pbnRzQXRYLHBvaW50c0F0WSxwb2ludHNBdFoscHJlc2VydmVBbHBoYSxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHByaW1pdGl2ZVVuaXRzLHIscmFkaXVzLHJlZmVycmVyUG9saWN5LHJlZlgscmVmWSxyZWwscmVuZGVyaW5nLWludGVudCxyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyZXN1bHQscm90YXRlLHJ4LHJ5LHNjYWxlLHNlZWQsc2hhcGUtcmVuZGVyaW5nLHNsb3BlLHNwYWNpbmcsc3BlY3VsYXJDb25zdGFudCxzcGVjdWxhckV4cG9uZW50LHNwZWVkLHNwcmVhZE1ldGhvZCxzdGFydE9mZnNldCxzdGREZXZpYXRpb24sc3RlbWgsc3RlbXYsc3RpdGNoVGlsZXMsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJpbmcsc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzdHlsZSxzdXJmYWNlU2NhbGUsc3lzdGVtTGFuZ3VhZ2UsdGFiaW5kZXgsdGFibGVWYWx1ZXMsdGFyZ2V0LHRhcmdldFgsdGFyZ2V0WSx0ZXh0LWFuY2hvcix0ZXh0LWRlY29yYXRpb24sdGV4dC1yZW5kZXJpbmcsdGV4dExlbmd0aCx0byx0cmFuc2Zvcm0sdHJhbnNmb3JtLW9yaWdpbix0eXBlLHUxLHUyLHVuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1iaWRpLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHYtYWxwaGFiZXRpYyx2LWhhbmdpbmcsdi1pZGVvZ3JhcGhpYyx2LW1hdGhlbWF0aWNhbCx2YWx1ZXMsdmVjdG9yLWVmZmVjdCx2ZXJzaW9uLHZlcnQtYWR2LXksdmVydC1vcmlnaW4teCx2ZXJ0LW9yaWdpbi15LHZpZXdCb3gsdmlld1RhcmdldCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx3b3JkLXNwYWNpbmcsd3JpdGluZy1tb2RlLHgseC1oZWlnaHQseDEseDIseENoYW5uZWxTZWxlY3Rvcix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6aHJlZix4bGluazpyb2xlLHhsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseSx5MSx5Mix5Q2hhbm5lbFNlbGVjdG9yLHosem9vbUFuZFBhbmBcbik7XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7XG4gIGNvbnN0IHN0ciA9IFwiXCIgKyBzdHJpbmc7XG4gIGNvbnN0IG1hdGNoID0gZXNjYXBlUkUuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBsZXQgaHRtbCA9IFwiXCI7XG4gIGxldCBlc2NhcGVkO1xuICBsZXQgaW5kZXg7XG4gIGxldCBsYXN0SW5kZXggPSAwO1xuICBmb3IgKGluZGV4ID0gbWF0Y2guaW5kZXg7IGluZGV4IDwgc3RyLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIHN3aXRjaCAoc3RyLmNoYXJDb2RlQXQoaW5kZXgpKSB7XG4gICAgICBjYXNlIDM0OlxuICAgICAgICBlc2NhcGVkID0gXCImcXVvdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM4OlxuICAgICAgICBlc2NhcGVkID0gXCImYW1wO1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzk6XG4gICAgICAgIGVzY2FwZWQgPSBcIiYjMzk7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2MDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmx0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjI6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZndDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGxhc3RJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGh0bWwgKz0gc3RyLnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpO1xuICAgIH1cbiAgICBsYXN0SW5kZXggPSBpbmRleCArIDE7XG4gICAgaHRtbCArPSBlc2NhcGVkO1xuICB9XG4gIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KSA6IGh0bWw7XG59XG5jb25zdCBjb21tZW50U3RyaXBSRSA9IC9eLT8+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XG4gIHJldHVybiBzcmMucmVwbGFjZShjb21tZW50U3RyaXBSRSwgXCJcIik7XG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBsZXQgZXF1YWwgPSB0cnVlO1xuICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XG4gIH1cbiAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKVxuICAgIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbCkgPyB2YWwgOiB2YWwgPT0gbnVsbCA/IFwiXCIgOiBpc0FycmF5KHZhbCkgfHwgaXNPYmplY3QodmFsKSAmJiAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gIGlmICh2YWwgJiYgdmFsLl9fdl9pc1JlZikge1xuICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzTWFwKHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoKGVudHJpZXMsIFtrZXksIHZhbDJdKSA9PiB7XG4gICAgICAgIGVudHJpZXNbYCR7a2V5fSA9PmBdID0gdmFsMjtcbiAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICB9LCB7fSlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BTZXQoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwudmFsdWVzKCldXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpICYmICFpc0FycmF5KHZhbCkgJiYgIWlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgIHJldHVybiBTdHJpbmcodmFsKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcblxuZXhwb3J0IHsgRU1QVFlfQVJSLCBFTVBUWV9PQkosIE5PLCBOT09QLCBQYXRjaEZsYWdOYW1lcywgY2FtZWxpemUsIGNhcGl0YWxpemUsIGRlZiwgZXNjYXBlSHRtbCwgZXNjYXBlSHRtbENvbW1lbnQsIGV4dGVuZCwgZ2VuUHJvcHNBY2Nlc3NFeHAsIGdlbmVyYXRlQ29kZUZyYW1lLCBnZXRHbG9iYWxUaGlzLCBoYXNDaGFuZ2VkLCBoYXNPd24sIGh5cGhlbmF0ZSwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpbnZva2VBcnJheUZucywgaXNBcnJheSwgaXNCb29sZWFuQXR0ciwgaXNCdWlsdEluRGlyZWN0aXZlLCBpc0RhdGUsIGlzRnVuY3Rpb24sIGlzR2xvYmFsbHlBbGxvd2VkLCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQsIGlzSFRNTFRhZywgaXNJbnRlZ2VyS2V5LCBpc0tub3duSHRtbEF0dHIsIGlzS25vd25TdmdBdHRyLCBpc01hcCwgaXNNb2RlbExpc3RlbmVyLCBpc09iamVjdCwgaXNPbiwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBsb29zZVRvTnVtYmVyLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCBvYmplY3RUb1N0cmluZywgcGFyc2VTdHJpbmdTdHlsZSwgcHJvcHNUb0F0dHJNYXAsIHJlbW92ZSwgc2xvdEZsYWdzVGV4dCwgc3RyaW5naWZ5U3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgdG9SYXdUeXBlLCB0b1R5cGVTdHJpbmcgfTtcbiIsImltcG9ydCB7IGV4dGVuZCwgaXNBcnJheSwgaXNTeW1ib2wsIGlzTWFwLCBpc0ludGVnZXJLZXksIGhhc093biwgaGFzQ2hhbmdlZCwgaXNPYmplY3QsIG1ha2VNYXAsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgZGVmLCBpc0Z1bmN0aW9uLCBOT09QIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cHMgPSBbXTtcbiAgICB0aGlzLnBhcmVudCA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgIGlmICghZGV0YWNoZWQgJiYgYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICAgIHRoaXMuaW5kZXggPSAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzIHx8IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgPSBbXSkpLnB1c2goXG4gICAgICAgIHRoaXNcbiAgICAgICkgLSAxO1xuICAgIH1cbiAgfVxuICBnZXQgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcbiAgfVxuICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICBsZXQgaSwgbDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0c1tpXS5zdG9wKCk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlZmZlY3RTY29wZShkZXRhY2hlZCkge1xuICByZXR1cm4gbmV3IEVmZmVjdFNjb3BlKGRldGFjaGVkKTtcbn1cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdFNjb3BlKGVmZmVjdCwgc2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZSkge1xuICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgc2NvcGUuZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgcmV0dXJuIGFjdGl2ZUVmZmVjdFNjb3BlO1xufVxuZnVuY3Rpb24gb25TY29wZURpc3Bvc2UoZm4pIHtcbiAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4oXG4gICAgICBgb25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBjcmVhdGVEZXAgPSAoZWZmZWN0cykgPT4ge1xuICBjb25zdCBkZXAgPSBuZXcgU2V0KGVmZmVjdHMpO1xuICBkZXAudyA9IDA7XG4gIGRlcC5uID0gMDtcbiAgcmV0dXJuIGRlcDtcbn07XG5jb25zdCB3YXNUcmFja2VkID0gKGRlcCkgPT4gKGRlcC53ICYgdHJhY2tPcEJpdCkgPiAwO1xuY29uc3QgbmV3VHJhY2tlZCA9IChkZXApID0+IChkZXAubiAmIHRyYWNrT3BCaXQpID4gMDtcbmNvbnN0IGluaXREZXBNYXJrZXJzID0gKHsgZGVwcyB9KSA9PiB7XG4gIGlmIChkZXBzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVwc1tpXS53IHw9IHRyYWNrT3BCaXQ7XG4gICAgfVxuICB9XG59O1xuY29uc3QgZmluYWxpemVEZXBNYXJrZXJzID0gKGVmZmVjdCkgPT4ge1xuICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDtcbiAgaWYgKGRlcHMubGVuZ3RoKSB7XG4gICAgbGV0IHB0ciA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkZXAgPSBkZXBzW2ldO1xuICAgICAgaWYgKHdhc1RyYWNrZWQoZGVwKSAmJiAhbmV3VHJhY2tlZChkZXApKSB7XG4gICAgICAgIGRlcC5kZWxldGUoZWZmZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcHNbcHRyKytdID0gZGVwO1xuICAgICAgfVxuICAgICAgZGVwLncgJj0gfnRyYWNrT3BCaXQ7XG4gICAgICBkZXAubiAmPSB+dHJhY2tPcEJpdDtcbiAgICB9XG4gICAgZGVwcy5sZW5ndGggPSBwdHI7XG4gIH1cbn07XG5cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xubGV0IGVmZmVjdFRyYWNrRGVwdGggPSAwO1xubGV0IHRyYWNrT3BCaXQgPSAxO1xuY29uc3QgbWF4TWFya2VyQml0cyA9IDMwO1xubGV0IGFjdGl2ZUVmZmVjdDtcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIml0ZXJhdGVcIiA6IFwiXCIpO1xuY29uc3QgTUFQX0tFWV9JVEVSQVRFX0tFWSA9IFN5bWJvbCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJNYXAga2V5IGl0ZXJhdGVcIiA6IFwiXCIpO1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3Rvcihmbiwgc2NoZWR1bGVyID0gbnVsbCwgc2NvcGUpIHtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMuZGVwcyA9IFtdO1xuICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgIHJlY29yZEVmZmVjdFNjb3BlKHRoaXMsIHNjb3BlKTtcbiAgfVxuICBydW4oKSB7XG4gICAgaWYgKCF0aGlzLmFjdGl2ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IGFjdGl2ZUVmZmVjdDtcbiAgICBsZXQgbGFzdFNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudCA9PT0gdGhpcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3Q7XG4gICAgICBhY3RpdmVFZmZlY3QgPSB0aGlzO1xuICAgICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgICAgdHJhY2tPcEJpdCA9IDEgPDwgKytlZmZlY3RUcmFja0RlcHRoO1xuICAgICAgaWYgKGVmZmVjdFRyYWNrRGVwdGggPD0gbWF4TWFya2VyQml0cykge1xuICAgICAgICBpbml0RGVwTWFya2Vycyh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgICAgIGZpbmFsaXplRGVwTWFya2Vycyh0aGlzKTtcbiAgICAgIH1cbiAgICAgIHRyYWNrT3BCaXQgPSAxIDw8IC0tZWZmZWN0VHJhY2tEZXB0aDtcbiAgICAgIGFjdGl2ZUVmZmVjdCA9IHRoaXMucGFyZW50O1xuICAgICAgc2hvdWxkVHJhY2sgPSBsYXN0U2hvdWxkVHJhY2s7XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICAgIGlmICh0aGlzLmRlZmVyU3RvcCkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBpZiAoYWN0aXZlRWZmZWN0ID09PSB0aGlzKSB7XG4gICAgICB0aGlzLmRlZmVyU3RvcCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIGlmICh0aGlzLm9uU3RvcCkge1xuICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNsZWFudXBFZmZlY3QoZWZmZWN0Mikge1xuICBjb25zdCB7IGRlcHMgfSA9IGVmZmVjdDI7XG4gIGlmIChkZXBzLmxlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVwc1tpXS5kZWxldGUoZWZmZWN0Mik7XG4gICAgfVxuICAgIGRlcHMubGVuZ3RoID0gMDtcbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0KGZuLCBvcHRpb25zKSB7XG4gIGlmIChmbi5lZmZlY3QgaW5zdGFuY2VvZiBSZWFjdGl2ZUVmZmVjdCkge1xuICAgIGZuID0gZm4uZWZmZWN0LmZuO1xuICB9XG4gIGNvbnN0IF9lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZm4pO1xuICBpZiAob3B0aW9ucykge1xuICAgIGV4dGVuZChfZWZmZWN0LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5zY29wZSlcbiAgICAgIHJlY29yZEVmZmVjdFNjb3BlKF9lZmZlY3QsIG9wdGlvbnMuc2NvcGUpO1xuICB9XG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5sYXp5KSB7XG4gICAgX2VmZmVjdC5ydW4oKTtcbiAgfVxuICBjb25zdCBydW5uZXIgPSBfZWZmZWN0LnJ1bi5iaW5kKF9lZmZlY3QpO1xuICBydW5uZXIuZWZmZWN0ID0gX2VmZmVjdDtcbiAgcmV0dXJuIHJ1bm5lcjtcbn1cbmZ1bmN0aW9uIHN0b3AocnVubmVyKSB7XG4gIHJ1bm5lci5lZmZlY3Quc3RvcCgpO1xufVxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gZmFsc2U7XG59XG5mdW5jdGlvbiBlbmFibGVUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcbiAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XG4gIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IGxhc3Q7XG59XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlRWZmZWN0KSB7XG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgZGVwc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcbiAgICBpZiAoIWRlcCkge1xuICAgICAgZGVwc01hcC5zZXQoa2V5LCBkZXAgPSBjcmVhdGVEZXAoKSk7XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50SW5mbyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7IGVmZmVjdDogYWN0aXZlRWZmZWN0LCB0YXJnZXQsIHR5cGUsIGtleSB9IDogdm9pZCAwO1xuICAgIHRyYWNrRWZmZWN0cyhkZXAsIGV2ZW50SW5mbyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRyYWNrRWZmZWN0cyhkZXAsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgbGV0IHNob3VsZFRyYWNrMiA9IGZhbHNlO1xuICBpZiAoZWZmZWN0VHJhY2tEZXB0aCA8PSBtYXhNYXJrZXJCaXRzKSB7XG4gICAgaWYgKCFuZXdUcmFja2VkKGRlcCkpIHtcbiAgICAgIGRlcC5uIHw9IHRyYWNrT3BCaXQ7XG4gICAgICBzaG91bGRUcmFjazIgPSAhd2FzVHJhY2tlZChkZXApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzaG91bGRUcmFjazIgPSAhZGVwLmhhcyhhY3RpdmVFZmZlY3QpO1xuICB9XG4gIGlmIChzaG91bGRUcmFjazIpIHtcbiAgICBkZXAuYWRkKGFjdGl2ZUVmZmVjdCk7XG4gICAgYWN0aXZlRWZmZWN0LmRlcHMucHVzaChkZXApO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGFjdGl2ZUVmZmVjdC5vblRyYWNrKSB7XG4gICAgICBhY3RpdmVFZmZlY3Qub25UcmFjayhcbiAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVmZmVjdDogYWN0aXZlRWZmZWN0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIWRlcHNNYXApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGRlcHMgPSBbXTtcbiAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIikge1xuICAgIGRlcHMgPSBbLi4uZGVwc01hcC52YWx1ZXMoKV07XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcImxlbmd0aFwiICYmIGlzQXJyYXkodGFyZ2V0KSkge1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IE51bWJlcihuZXdWYWx1ZSk7XG4gICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleTIpID0+IHtcbiAgICAgIGlmIChrZXkyID09PSBcImxlbmd0aFwiIHx8ICFpc1N5bWJvbChrZXkyKSAmJiBrZXkyID49IG5ld0xlbmd0aCkge1xuICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcbiAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChrZXkpKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KFwibGVuZ3RoXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGNvbnN0IGV2ZW50SW5mbyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7IHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCB9IDogdm9pZCAwO1xuICBpZiAoZGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICBpZiAoZGVwc1swXSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgdHJpZ2dlckVmZmVjdHMoZGVwc1swXSwgZXZlbnRJbmZvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyaWdnZXJFZmZlY3RzKGRlcHNbMF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlZmZlY3RzID0gW107XG4gICAgZm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuICAgICAgaWYgKGRlcCkge1xuICAgICAgICBlZmZlY3RzLnB1c2goLi4uZGVwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRyaWdnZXJFZmZlY3RzKGNyZWF0ZURlcChlZmZlY3RzKSwgZXZlbnRJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlckVmZmVjdHMoY3JlYXRlRGVwKGVmZmVjdHMpKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJFZmZlY3RzKGRlcCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICBjb25zdCBlZmZlY3RzID0gaXNBcnJheShkZXApID8gZGVwIDogWy4uLmRlcF07XG4gIGZvciAoY29uc3QgZWZmZWN0MiBvZiBlZmZlY3RzKSB7XG4gICAgaWYgKGVmZmVjdDIuY29tcHV0ZWQpIHtcbiAgICAgIHRyaWdnZXJFZmZlY3QoZWZmZWN0MiwgZGVidWdnZXJFdmVudEV4dHJhSW5mbyk7XG4gICAgfVxuICB9XG4gIGZvciAoY29uc3QgZWZmZWN0MiBvZiBlZmZlY3RzKSB7XG4gICAgaWYgKCFlZmZlY3QyLmNvbXB1dGVkKSB7XG4gICAgICB0cmlnZ2VyRWZmZWN0KGVmZmVjdDIsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdChlZmZlY3QyLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gIGlmIChlZmZlY3QyICE9PSBhY3RpdmVFZmZlY3QgfHwgZWZmZWN0Mi5hbGxvd1JlY3Vyc2UpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBlZmZlY3QyLm9uVHJpZ2dlcikge1xuICAgICAgZWZmZWN0Mi5vblRyaWdnZXIoZXh0ZW5kKHsgZWZmZWN0OiBlZmZlY3QyIH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdDIuc2NoZWR1bGVyKSB7XG4gICAgICBlZmZlY3QyLnNjaGVkdWxlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QyLnJ1bigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0RGVwRnJvbVJlYWN0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IHRhcmdldE1hcC5nZXQob2JqZWN0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldChrZXkpO1xufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoXG4gIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IFwiYXJndW1lbnRzXCIgJiYga2V5ICE9PSBcImNhbGxlclwiKS5tYXAoKGtleSkgPT4gU3ltYm9sW2tleV0pLmZpbHRlcihpc1N5bWJvbClcbik7XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7fTtcbiAgW1wiaW5jbHVkZXNcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIl0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiwgaSArIFwiXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzID0gYXJyW2tleV0oLi4uYXJncyk7XG4gICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhcnJba2V5XSguLi5hcmdzLm1hcCh0b1JhdykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgW1wicHVzaFwiLCBcInBvcFwiLCBcInNoaWZ0XCIsIFwidW5zaGlmdFwiLCBcInNwbGljZVwiXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjb25zdCByZXMgPSB0b1Jhdyh0aGlzKVtrZXldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIGluc3RydW1lbnRhdGlvbnM7XG59XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShrZXkpIHtcbiAgY29uc3Qgb2JqID0gdG9SYXcodGhpcyk7XG4gIHRyYWNrKG9iaiwgXCJoYXNcIiwga2V5KTtcbiAgcmV0dXJuIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpO1xufVxuY2xhc3MgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKF9pc1JlYWRvbmx5ID0gZmFsc2UsIF9zaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5fc2hhbGxvdyA9IF9zaGFsbG93O1xuICB9XG4gIGdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICBjb25zdCBpc1JlYWRvbmx5MiA9IHRoaXMuX2lzUmVhZG9ubHksIHNoYWxsb3cgPSB0aGlzLl9zaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gc2hhbGxvdztcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIgJiYgcmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5MiA/IHNoYWxsb3cgPyBzaGFsbG93UmVhZG9ubHlNYXAgOiByZWFkb25seU1hcCA6IHNoYWxsb3cgPyBzaGFsbG93UmVhY3RpdmVNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiaGFzT3duUHJvcGVydHlcIikge1xuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgfVxuICAgIGlmIChzaGFsbG93KSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihzaGFsbG93ID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgc2hhbGxvdyk7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWFkb25seShvbGRWYWx1ZSkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLl9zaGFsbG93KSB7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3Ioc2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgc2hhbGxvdyk7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKFxuICB0cnVlXG4pO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xuICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCJdO1xuICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICB9XG4gIGNvbnN0IHsgaGFzOiBoYXMyIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xuICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICBpZiAoaGFzMi5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xuICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gIH0gZWxzZSBpZiAoaGFzMi5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XG4gIH0gZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcbiAgICB0YXJnZXQuZ2V0KGtleSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhcyhrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgaWYgKGhhc0NoYW5nZWQoa2V5LCByYXdLZXkpKSB7XG4gICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgfVxuICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwgcmF3S2V5KTtcbiAgfVxuICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xufVxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCJdO1xuICAhaXNSZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBcInNpemVcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gIGNvbnN0IHsgaGFzOiBoYXMyLCBnZXQ6IGdldDIgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gIGxldCBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICBpZiAoIWhhZEtleSkge1xuICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgaGFkS2V5ID0gaGFzMi5jYWxsKHRhcmdldCwga2V5KTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMyLCBrZXkpO1xuICB9XG4gIGNvbnN0IG9sZFZhbHVlID0gZ2V0Mi5jYWxsKHRhcmdldCwga2V5KTtcbiAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGtleSkge1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgeyBoYXM6IGhhczIsIGdldDogZ2V0MiB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgbGV0IGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSk7XG4gIH1cbiAgY29uc3Qgb2xkVmFsdWUgPSBnZXQyID8gZ2V0Mi5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICBpZiAoaGFkS2V5KSB7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNsZWFyKCkge1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcbiAgY29uc3Qgb2xkVGFyZ2V0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGlzTWFwKHRhcmdldCkgPyBuZXcgTWFwKHRhcmdldCkgOiBuZXcgU2V0KHRhcmdldCkgOiB2b2lkIDA7XG4gIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xuICBpZiAoaGFkSXRlbXMpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJjbGVhclwiLCB2b2lkIDAsIHZvaWQgMCwgb2xkVGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY3JlYXRlRm9yRWFjaChpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XG4gICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB3cmFwKHZhbHVlKSwgd3JhcChrZXkpLCBvYnNlcnZlZCk7XG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xuICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gXCJlbnRyaWVzXCIgfHwgbWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSBcImtleXNcIiAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpbm5lckl0ZXJhdG9yID0gdGFyZ2V0W21ldGhvZF0oLi4uYXJncyk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhcbiAgICAgIHJhd1RhcmdldCxcbiAgICAgIFwiaXRlcmF0ZVwiLFxuICAgICAgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gZG9uZSA/IHsgdmFsdWUsIGRvbmUgfSA6IHtcbiAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcbiAgICAgICAgICBkb25lXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgLy8gaXRlcmFibGUgcHJvdG9jb2xcbiAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0b1Jhdyh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgPyBmYWxzZSA6IHR5cGUgPT09IFwiY2xlYXJcIiA/IHZvaWQgMCA6IHRoaXM7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCkge1xuICBjb25zdCBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXkpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXG4gIH07XG4gIGNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcbiAgfTtcbiAgY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIGZhbHNlKVxuICB9O1xuICBjb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIHRydWUpXG4gIH07XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcImtleXNcIiwgXCJ2YWx1ZXNcIiwgXCJlbnRyaWVzXCIsIFN5bWJvbC5pdGVyYXRvcl07XG4gIGl0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczJbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKFxuICAgICAgbWV0aG9kLFxuICAgICAgZmFsc2UsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICB0cnVlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICBmYWxzZSxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMyW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChcbiAgICAgIG1ldGhvZCxcbiAgICAgIHRydWUsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSk7XG4gIHJldHVybiBbXG4gICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMyLFxuICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIsXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMyLFxuICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMyXG4gIF07XG59XG5jb25zdCBbXG4gIG11dGFibGVJbnN0cnVtZW50YXRpb25zLFxuICByZWFkb25seUluc3RydW1lbnRhdGlvbnMsXG4gIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zLFxuICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG5dID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoKTtcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93ID8gaXNSZWFkb25seSA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyA6IGlzUmVhZG9ubHkgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnMgOiBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucztcbiAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzMiwga2V5KSB7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMyLmNhbGwodGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBSZWFjdGl2ZSAke3R5cGV9IGNvbnRhaW5zIGJvdGggdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgdGhlIHNhbWUgb2JqZWN0JHt0eXBlID09PSBgTWFwYCA/IGAgYXMga2V5c2AgOiBgYH0sIHdoaWNoIGNhbiBsZWFkIHRvIGluY29uc2lzdGVuY2llcy4gQXZvaWQgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gdGhlIHJhdyBhbmQgcmVhY3RpdmUgdmVyc2lvbnMgb2YgYW4gb2JqZWN0IGFuZCBvbmx5IHVzZSB0aGUgcmVhY3RpdmUgdmVyc2lvbiBpZiBwb3NzaWJsZS5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCByZWFjdGl2ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZWFkb25seU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB0YXJnZXRUeXBlTWFwKHJhd1R5cGUpIHtcbiAgc3dpdGNoIChyYXdUeXBlKSB7XG4gICAgY2FzZSBcIk9iamVjdFwiOlxuICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgcmV0dXJuIDEgLyogQ09NTU9OICovO1xuICAgIGNhc2UgXCJNYXBcIjpcbiAgICBjYXNlIFwiU2V0XCI6XG4gICAgY2FzZSBcIldlYWtNYXBcIjpcbiAgICBjYXNlIFwiV2Vha1NldFwiOlxuICAgICAgcmV0dXJuIDIgLyogQ09MTEVDVElPTiAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIDAgLyogSU5WQUxJRCAqLztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0VHlwZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWVbXCJfX3Zfc2tpcFwiXSB8fCAhT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgPyAwIC8qIElOVkFMSUQgKi8gOiB0YXJnZXRUeXBlTWFwKHRvUmF3VHlwZSh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gcmVhY3RpdmUodGFyZ2V0KSB7XG4gIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgZmFsc2UsXG4gICAgbXV0YWJsZUhhbmRsZXJzLFxuICAgIG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhY3RpdmVNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBzaGFsbG93UmVhY3RpdmVIYW5kbGVycyxcbiAgICBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICByZWFkb25seUhhbmRsZXJzLFxuICAgIHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHJlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhZG9ubHkodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgdHJ1ZSxcbiAgICBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWRvbmx5TWFwXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFjdGl2ZU9iamVjdCh0YXJnZXQsIGlzUmVhZG9ubHkyLCBiYXNlSGFuZGxlcnMsIGNvbGxlY3Rpb25IYW5kbGVycywgcHJveHlNYXApIHtcbiAgaWYgKCFpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNvbnNvbGUud2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIl0gJiYgIShpc1JlYWRvbmx5MiAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiXSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKGV4aXN0aW5nUHJveHkpIHtcbiAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgfVxuICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xuICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShcbiAgICB0YXJnZXQsXG4gICAgdGFyZ2V0VHlwZSA9PT0gMiAvKiBDT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzXG4gICk7XG4gIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xuICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIl0pO1xuICB9XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCJdKTtcbn1cbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIl0pO1xufVxuZnVuY3Rpb24gaXNTaGFsbG93KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1NoYWxsb3dcIl0pO1xufVxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xuICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xuICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XG4gIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiLCB0cnVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gdHJhY2tSZWZWYWx1ZShyZWYyKSB7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICByZWYyID0gdG9SYXcocmVmMik7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRyYWNrRWZmZWN0cyhyZWYyLmRlcCB8fCAocmVmMi5kZXAgPSBjcmVhdGVEZXAoKSksIHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYWNrRWZmZWN0cyhyZWYyLmRlcCB8fCAocmVmMi5kZXAgPSBjcmVhdGVEZXAoKSkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZlZhbHVlKHJlZjIsIG5ld1ZhbCkge1xuICByZWYyID0gdG9SYXcocmVmMik7XG4gIGNvbnN0IGRlcCA9IHJlZjIuZGVwO1xuICBpZiAoZGVwKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRyaWdnZXJFZmZlY3RzKGRlcCwge1xuICAgICAgICB0YXJnZXQ6IHJlZjIsXG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlckVmZmVjdHMoZGVwKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUmVmKHIpIHtcbiAgcmV0dXJuICEhKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xufVxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cpIHtcbiAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xuICAgIHJldHVybiByYXdWYWx1ZTtcbiAgfVxuICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xufVxuY2xhc3MgUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBfX3ZfaXNTaGFsbG93KSB7XG4gICAgdGhpcy5fX3ZfaXNTaGFsbG93ID0gX192X2lzU2hhbGxvdztcbiAgICB0aGlzLmRlcCA9IHZvaWQgMDtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgdHJhY2tSZWZWYWx1ZSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIGNvbnN0IHVzZURpcmVjdFZhbHVlID0gdGhpcy5fX3ZfaXNTaGFsbG93IHx8IGlzU2hhbGxvdyhuZXdWYWwpIHx8IGlzUmVhZG9ubHkobmV3VmFsKTtcbiAgICBuZXdWYWwgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmF3KG5ld1ZhbCk7XG4gICAgaWYgKGhhc0NoYW5nZWQobmV3VmFsLCB0aGlzLl9yYXdWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xuICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmVhY3RpdmUobmV3VmFsKTtcbiAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzLCBuZXdWYWwpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIHRyaWdnZXJSZWZWYWx1ZShyZWYyLCAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gcmVmMi52YWx1ZSA6IHZvaWQgMCk7XG59XG5mdW5jdGlvbiB1bnJlZihyZWYyKSB7XG4gIHJldHVybiBpc1JlZihyZWYyKSA/IHJlZjIudmFsdWUgOiByZWYyO1xufVxuZnVuY3Rpb24gdG9WYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlKSA/IHNvdXJjZSgpIDogdW5yZWYoc291cmNlKTtcbn1cbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcbiAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcbiAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpID8gb2JqZWN0V2l0aFJlZnMgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XG59XG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgIHRoaXMuZGVwID0gdm9pZCAwO1xuICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KFxuICAgICAgKCkgPT4gdHJhY2tSZWZWYWx1ZSh0aGlzKSxcbiAgICAgICgpID0+IHRyaWdnZXJSZWZWYWx1ZSh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5fZ2V0ID0gZ2V0O1xuICAgIHRoaXMuX3NldCA9IHNldDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgY29uc29sZS53YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcbiAgfVxuICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgcmV0W2tleV0gPSBwcm9wZXJ0eVRvUmVmKG9iamVjdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xuICAgIHRoaXMuX2tleSA9IF9rZXk7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB2YWwgPT09IHZvaWQgMCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRvUmF3KHRoaXMuX29iamVjdCksIHRoaXMuX2tleSk7XG4gIH1cbn1cbmNsYXNzIEdldHRlclJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihfZ2V0dGVyKSB7XG4gICAgdGhpcy5fZ2V0dGVyID0gX2dldHRlcjtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpcy5fX3ZfaXNSZWFkb25seSA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXR0ZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIG5ldyBHZXR0ZXJSZWZJbXBsKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWYoc291cmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGNvbnN0IHZhbCA9IHNvdXJjZVtrZXldO1xuICByZXR1cm4gaXNSZWYodmFsKSA/IHZhbCA6IG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jbGFzcyBDb21wdXRlZFJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihnZXR0ZXIsIF9zZXR0ZXIsIGlzUmVhZG9ubHksIGlzU1NSKSB7XG4gICAgdGhpcy5fc2V0dGVyID0gX3NldHRlcjtcbiAgICB0aGlzLmRlcCA9IHZvaWQgMDtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCJdID0gZmFsc2U7XG4gICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgIHRoaXMuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlciwgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9kaXJ0eSkge1xuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVmZmVjdC5jb21wdXRlZCA9IHRoaXM7XG4gICAgdGhpcy5lZmZlY3QuYWN0aXZlID0gdGhpcy5fY2FjaGVhYmxlID0gIWlzU1NSO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IGlzUmVhZG9ubHk7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0b1Jhdyh0aGlzKTtcbiAgICB0cmFja1JlZlZhbHVlKHNlbGYpO1xuICAgIGlmIChzZWxmLl9kaXJ0eSB8fCAhc2VsZi5fY2FjaGVhYmxlKSB7XG4gICAgICBzZWxmLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgc2VsZi5fdmFsdWUgPSBzZWxmLmVmZmVjdC5ydW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbXB1dGVkKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc1NTUiA9IGZhbHNlKSB7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBzZXR0ZXI7XG4gIGNvbnN0IG9ubHlHZXR0ZXIgPSBpc0Z1bmN0aW9uKGdldHRlck9yT3B0aW9ucyk7XG4gIGlmIChvbmx5R2V0dGVyKSB7XG4gICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICAgIHNldHRlciA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoKSA9PiB7XG4gICAgICBjb25zb2xlLndhcm4oXCJXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seVwiKTtcbiAgICB9IDogTk9PUDtcbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gIH1cbiAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIG9ubHlHZXR0ZXIgfHwgIXNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5lZmZlY3Qub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgIGNSZWYuZWZmZWN0Lm9uVHJpZ2dlciA9IGRlYnVnT3B0aW9ucy5vblRyaWdnZXI7XG4gIH1cbiAgcmV0dXJuIGNSZWY7XG59XG5cbmNvbnN0IHRpY2sgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IHF1ZXVlZCA9IGZhbHNlO1xuY29uc3Qgc2NoZWR1bGVyID0gKGZuKSA9PiB7XG4gIHF1ZXVlLnB1c2goZm4pO1xuICBpZiAoIXF1ZXVlZCkge1xuICAgIHF1ZXVlZCA9IHRydWU7XG4gICAgdGljay50aGVuKGZsdXNoKTtcbiAgfVxufTtcbmNvbnN0IGZsdXNoID0gKCkgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgcXVldWVbaV0oKTtcbiAgfVxuICBxdWV1ZS5sZW5ndGggPSAwO1xuICBxdWV1ZWQgPSBmYWxzZTtcbn07XG5jbGFzcyBEZWZlcnJlZENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGdldHRlcikge1xuICAgIHRoaXMuZGVwID0gdm9pZCAwO1xuICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCJdID0gdHJ1ZTtcbiAgICBsZXQgY29tcGFyZVRhcmdldDtcbiAgICBsZXQgaGFzQ29tcGFyZVRhcmdldCA9IGZhbHNlO1xuICAgIGxldCBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICB0aGlzLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsIChjb21wdXRlZFRyaWdnZXIpID0+IHtcbiAgICAgIGlmICh0aGlzLmRlcCkge1xuICAgICAgICBpZiAoY29tcHV0ZWRUcmlnZ2VyKSB7XG4gICAgICAgICAgY29tcGFyZVRhcmdldCA9IHRoaXMuX3ZhbHVlO1xuICAgICAgICAgIGhhc0NvbXBhcmVUYXJnZXQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZVRvQ29tcGFyZSA9IGhhc0NvbXBhcmVUYXJnZXQgPyBjb21wYXJlVGFyZ2V0IDogdGhpcy5fdmFsdWU7XG4gICAgICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICBoYXNDb21wYXJlVGFyZ2V0ID0gZmFsc2U7XG4gICAgICAgICAgc2NoZWR1bGVyKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVmZmVjdC5hY3RpdmUgJiYgdGhpcy5fZ2V0KCkgIT09IHZhbHVlVG9Db21wYXJlKSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLmRlcCkge1xuICAgICAgICAgIGlmIChlLmNvbXB1dGVkIGluc3RhbmNlb2YgRGVmZXJyZWRDb21wdXRlZFJlZkltcGwpIHtcbiAgICAgICAgICAgIGUuc2NoZWR1bGVyKFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgIC8qIGNvbXB1dGVkVHJpZ2dlciAqL1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICB9KTtcbiAgICB0aGlzLmVmZmVjdC5jb21wdXRlZCA9IHRoaXM7XG4gIH1cbiAgX2dldCgpIHtcbiAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5fdmFsdWUgPSB0aGlzLmVmZmVjdC5ydW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICB0cmFja1JlZlZhbHVlKHRoaXMpO1xuICAgIHJldHVybiB0b1Jhdyh0aGlzKS5fZ2V0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmVycmVkQ29tcHV0ZWQoZ2V0dGVyKSB7XG4gIHJldHVybiBuZXcgRGVmZXJyZWRDb21wdXRlZFJlZkltcGwoZ2V0dGVyKTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0U2NvcGUsIElURVJBVEVfS0VZLCBSZWFjdGl2ZUVmZmVjdCwgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZGVmZXJyZWRDb21wdXRlZCwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZW5hYmxlVHJhY2tpbmcsIGdldEN1cnJlbnRTY29wZSwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIHBhdXNlVHJhY2tpbmcsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IFJlYWN0aXZlRWZmZWN0LCBpc1JlYWN0aXZlLCBpc1JlZiwgaXNTaGFsbG93IH0gZnJvbSBcIkB2dWUvcmVhY3Rpdml0eVwiO1xuaW1wb3J0IHsgTk9PUCwgaGFzQ2hhbmdlZCwgaXNBcnJheSwgaXNGdW5jdGlvbiBhcyBpc0Z1bmN0aW9uMiwgaXNPYmplY3QgfSBmcm9tIFwiQHZ1ZS9zaGFyZWRcIjtcblxuLy8gc3JjL2Vycm9ySGFuZGxpbmcudHNcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzUHJvbWlzZSB9IGZyb20gXCJAdnVlL3NoYXJlZFwiO1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCB0eXBlLCBhcmdzKSB7XG4gIGxldCByZXM7XG4gIHRyeSB7XG4gICAgcmVzID0gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCB0eXBlKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIHR5cGUsIGFyZ3MpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCB0eXBlLCBhcmdzKTtcbiAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspXG4gICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIHR5cGUsIGFyZ3MpKTtcbiAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgdHlwZSkge1xuICBjb25zb2xlLmVycm9yKG5ldyBFcnJvcihgW0B2dWUtcmVhY3Rpdml0eS93YXRjaF06ICR7dHlwZX1gKSk7XG4gIGNvbnNvbGUuZXJyb3IoZXJyKTtcbn1cbmZ1bmN0aW9uIHdhcm4obWVzc2FnZSkge1xuICBjb25zb2xlLndhcm4oY3JlYXRlRXJyb3IobWVzc2FnZSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlRXJyb3IobWVzc2FnZSkge1xuICByZXR1cm4gbmV3IEVycm9yKGBbcmVhY3RpdnVlXTogJHttZXNzYWdlfWApO1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwgeyBpbW1lZGlhdGUsIGRlZXAsIGZsdXNoIH0gPSB7fSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZTtcbiAgICBkZWVwID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZShpc1JlYWN0aXZlKTtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKChzKSA9PiB7XG4gICAgICBpZiAoaXNSZWYocykpXG4gICAgICAgIHJldHVybiBzLnZhbHVlO1xuICAgICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSlcbiAgICAgICAgcmV0dXJuIHRyYXZlcnNlKHMpO1xuICAgICAgZWxzZSBpZiAoaXNGdW5jdGlvbjIocykpXG4gICAgICAgIHJldHVybiBjYWxsV2l0aEVycm9ySGFuZGxpbmcocywgXCJ3YXRjaCBnZXR0ZXJcIik7XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiB3YXJuKFwiaW52YWxpZCBzb3VyY2VcIik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbjIoc291cmNlKSkge1xuICAgIGlmIChjYikge1xuICAgICAgZ2V0dGVyID0gKCkgPT4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgXCJ3YXRjaCBnZXR0ZXJcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApXG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICByZXR1cm4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoc291cmNlLCBcIndhdGNoIGNhbGxiYWNrXCIsIFtvbkNsZWFudXBdKTtcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IE5PT1A7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGdldHRlciA9ICgpID0+IHRyYXZlcnNlKGJhc2VHZXR0ZXIoKSk7XG4gIH1cbiAgbGV0IGNsZWFudXA7XG4gIGxldCBvbkNsZWFudXAgPSAoZm4pID0+IHtcbiAgICBjbGVhbnVwID0gZWZmZWN0Lm9uU3RvcCA9ICgpID0+IHtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgXCJ3YXRjaCBjbGVhbnVwXCIpO1xuICAgIH07XG4gIH07XG4gIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcbiAgY29uc3Qgam9iID0gKCkgPT4ge1xuICAgIGlmICghZWZmZWN0LmFjdGl2ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IChpc011bHRpU291cmNlID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSkge1xuICAgICAgICBpZiAoY2xlYW51cClcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBcIndhdGNoIHZhbHVlXCIsIFtcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFID8gdm9pZCAwIDogb2xkVmFsdWUsXG4gICAgICAgICAgb25DbGVhbnVwXG4gICAgICAgIF0pO1xuICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcbiAgbGV0IHNjaGVkdWxlcjtcbiAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgIHNjaGVkdWxlciA9IGpvYjtcbiAgfSBlbHNlIHtcbiAgICBzY2hlZHVsZXIgPSAoKSA9PiB7XG4gICAgICBqb2IoKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IGVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsIHNjaGVkdWxlcik7XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpXG4gICAgICBqb2IoKTtcbiAgICBlbHNlXG4gICAgICBvbGRWYWx1ZSA9IGVmZmVjdC5ydW4oKTtcbiAgfSBlbHNlIHtcbiAgICBlZmZlY3QucnVuKCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IGVmZmVjdC5zdG9wKCk7XG59XG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgc2Vlbi5oYXModmFsdWUpKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgc2Vlbi5hZGQodmFsdWUpO1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgdHJhdmVyc2UodmFsdWVbaV0sIHNlZW4pO1xuICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgdmFsdWUuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZS5nZXQoa2V5KSwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBzZWVuKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh2YWx1ZSkpXG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBzZWVuKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQge1xuICB3YXRjaCxcbiAgd2F0Y2hFZmZlY3Rcbn07XG4iLCIvLyBpbXBvcnQgeyB3YXRjaCwgd2F0Y2hFZmZlY3QgfSBmcm9tIFwiQHZ1ZS1yZWFjdGl2aXR5L3dhdGNoXCI7XG5pbXBvcnQgeyB3YXRjaCB9IGZyb20gXCJAdnVlLXJlYWN0aXZpdHkvd2F0Y2hcIjtcbmltcG9ydCB7IHJlYWN0aXZlLCB0eXBlIFVud3JhcE5lc3RlZFJlZnMgfSBmcm9tIFwiQHZ1ZS9yZWFjdGl2aXR5XCI7XG5pbXBvcnQgdHlwZSB7IEFjdG9yUmVnaXN0cnksIFN0YXRlUmVnaXN0cnksIEJpbmRpbmdFbnRyeSwgU1NFRXZlbnRTb3VyY2UsIEV2ZW50SGFuZGxlciwgS2lsb0RlZiwgU3dhcFR5cGUsIFBhdGgsIFNlbGVjdG9yLCBSZXF1ZXN0Q29uZmlnLCBSZXF1ZXN0Q29uZmlnRm4sIFBvc3RSZXF1ZXN0Rm4sIEFjdG9yQ29udGV4dCwgU3RhdGVDb250ZXh0LCBCYXNlLCBTU0UsIFN3YXBwZXIsIFRhcmdldCwgQWN0b3IsIFRyaWdnZXIsIFN0YXRlLCBNb2RlbCwgUmV0cmlnZ2VyYWJsZUFjdG9yLCBSZXRyaWdnZXIsIFN3YXBwYWJsZVRhcmdldCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmxldCBiYXNlVXJsID0gXCJcIjtcblxuY29uc3QgYWN0b3JSZWdpc3RyeSA9IHJlYWN0aXZlKHtcbiAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICBjb250ZXh0czogW10sXG4gIHNzZVNvdXJjZXM6IFtdLFxufSBhcyBBY3RvclJlZ2lzdHJ5KTtcblxuY29uc3Qgc3RhdGVSZWdpc3RyeTogU3RhdGVSZWdpc3RyeSA9IHtcbiAgY29udGV4dHM6IFtdLFxufTtcblxud2F0Y2goXG4gICgpID0+IGFjdG9yUmVnaXN0cnkuY29udGV4dHMsXG4gIChjb250ZXh0cywgcHJldikgPT4ge1xuICAgIGlmICghKGFjdG9yUmVnaXN0cnkuc3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIiB8fCBhY3RvclJlZ2lzdHJ5LnN0YXRlID09PSBcImNvbXBsZXRlXCIpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgY3R4IG9mIGNvbnRleHRzKSB7XG4gICAgICBpZiAocHJldi5pbmNsdWRlcyhjdHgpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN0eC5zb3VyY2VFbGVtZW50KSB7XG4gICAgICAgIGN0eC5zb3VyY2VFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwia2lsbzpsb2FkXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbik7XG5cbmNvbnN0IHN0YXRlQmluZGluZ09ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICBmb3IoY29uc3QgbSBvZiBtdXRhdGlvbnMpIHtcbiAgICBmb3IoY29uc3QgcmVtb3ZlZCBvZiBtLnJlbW92ZWROb2Rlcykge1xuICAgICAgaWYocmVtb3ZlZC5ub2RlVHlwZSAhPT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsID0gcmVtb3ZlZCBhcyBIVE1MRWxlbWVudFxuICAgICAgZm9yKGNvbnN0IGN0eCBvZiBzdGF0ZVJlZ2lzdHJ5LmNvbnRleHRzKSB7XG4gICAgICAgIGlmKGN0eC5iaW5kaW5ncykge1xuICAgICAgICAgIGZvcihjb25zdCBrZXkgaW4gY3R4LmJpbmRpbmdzKSB7XG4gICAgICAgICAgICBpZihjdHguYmluZGluZ3Nba2V5XS5lbGVtZW50ID09PSBlbCkge1xuICAgICAgICAgICAgICBmb3IoY29uc3QgZXZlbnQgb2YgY3R4LmJpbmRpbmdzW2tleV0uZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJpbmRpbmdzW2tleV0uZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGN0eC5iaW5kaW5nc1trZXldLmhhbmRsZXIpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgZm4gPSBfYmluZGVyKGN0eClcbiAgICAgICAgICAgICAgZm4oa2V5LCBjdHguYmluZGluZ3Nba2V5XS5zZWxlY3RvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCAoZXY6IEV2ZW50KSA9PiB7XG4gIGFjdG9yUmVnaXN0cnkuc3RhdGUgPSBkb2N1bWVudC5yZWFkeVN0YXRlO1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiIHx8IGFjdG9yUmVnaXN0cnkuc3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgIHN0YXRlQmluZGluZ09ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIGZvciAoY29uc3QgY3R4IG9mIGFjdG9yUmVnaXN0cnkuY29udGV4dHMpIHtcbiAgICAgIGlmIChjdHguc291cmNlRWxlbWVudCkge1xuICAgICAgICBjdHguc291cmNlRWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImtpbG86bG9hZFwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvcihjb25zdCBzcmMgb2YgYWN0b3JSZWdpc3RyeS5zc2VTb3VyY2VzKSB7XG4gICAgICBpZighc3JjLmhhbmRsZXIpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIHNyYy5zb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgc3JjLmhhbmRsZXIpO1xuICAgIH1cbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTU0VFdmVudEhhbmRsZXIoc3JjOiBTU0VFdmVudFNvdXJjZSkgOiBFdmVudEhhbmRsZXIge1xuICByZXR1cm4gKGV2OiBFdmVudCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlID0gZXYgYXMgTWVzc2FnZUV2ZW50O1xuICAgICAgaWYoc3JjLmlzUGF1c2VkKSB7XG4gICAgICAgIHNyYy5xdWV1ZS5wdXNoKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtc2cgPSBKU09OLnBhcnNlKGUuZGF0YSkgYXMgS2lsb0RlZjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobXNnW1wieC1raWxvLXRhcmdldFwiXSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBzd2FwID0gbXNnW1wieC1raWxvLXN3YXBcIl07XG4gICAgICBjb25zdCBtYXJrdXAgPSBtc2dbXCJ4LWtpbG8tbWFya3VwXCJdO1xuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IGVsZW1lbnQgbm90IGZvdW5kXCIpO1xuICAgICAgfVxuICAgICAgX3N3YXAoe1xuICAgICAgICBzZWxlY3RvcjogbXNnW1wieC1raWxvLXRhcmdldFwiXSxcbiAgICAgICAgc291cmNlRWxlbWVudDogdGFyZ2V0LFxuICAgICAgICB0YXJnZXRFbGVtZW50OiB0YXJnZXQsXG4gICAgICAgIHRyaWdnZXJFdmVudDogbnVsbCxcbiAgICAgICAgdHJpZ2dlcjogYXN5bmMgKCkgPT4ge30sXG4gICAgICAgIGFjdG9yOiBudWxsLFxuICAgICAgICBzd2FwcGVyOiBudWxsLFxuICAgICAgICBiZWZvcmVBY3RvcjogbnVsbCxcbiAgICAgICAgYWZ0ZXJBY3RvcjogbnVsbCxcbiAgICAgIH0sIHN3YXAsIG1hcmt1cCk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS5lcnJvcihldik7XG4gICAgfVxuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9zd2FwKGN0eDogQWN0b3JDb250ZXh0LCBzd2FwRXhwcjogc3RyaW5nLCBtYXJrdXA6IHN0cmluZykge1xuICBsZXQgdGFyZ2V0ID0gY3R4LnRhcmdldEVsZW1lbnQ7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgaWYgKCFjdHguc291cmNlRWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgdGFyZ2V0ID0gY3R4LnNvdXJjZUVsZW1lbnQ7XG4gIH1cbiAgY29uc3QgZiA9IHN3YXBFeHByLnNwbGl0KFwiIFwiKTtcbiAgY29uc3Qgc3dhcFR5cGUgPSBmWzBdIGFzIFN3YXBUeXBlO1xuICBjb25zdCBzY3JvbGxFeHByID0gZi5sZW5ndGggPiAxID8gZlsxXSA6IFwiXCI7XG5cbiAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICByYW5nZS5zZWxlY3ROb2RlKHRhcmdldCk7XG4gIGNvbnN0IGRvY3VtZW50RnJhZ21lbnQgPSByYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQobWFya3VwKTtcbiAgY29uc3QgbmV3Q2hpbGQgPSBkb2N1bWVudEZyYWdtZW50LmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQ7XG4gIHN3aXRjaCAoc3dhcFR5cGUpIHtcbiAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICB3aGlsZSAodGFyZ2V0LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUNoaWxkKHRhcmdldC5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChkb2N1bWVudEZyYWdtZW50KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJvdXRlckhUTUxcIjpcbiAgICAgIHRhcmdldC5wYXJlbnROb2RlPy5yZXBsYWNlQ2hpbGQoZG9jdW1lbnRGcmFnbWVudCwgdGFyZ2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJiZWZvcmViZWdpblwiOlxuICAgICAgdGFyZ2V0LnBhcmVudE5vZGU/Lmluc2VydEJlZm9yZShkb2N1bWVudEZyYWdtZW50LCB0YXJnZXQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImFmdGVyYmVnaW5cIjpcbiAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUoZG9jdW1lbnRGcmFnbWVudCwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImJlZm9yZWVuZFwiOlxuICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGRvY3VtZW50RnJhZ21lbnQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImFmdGVyZW5kXCI6XG4gICAgICB0YXJnZXQucGFyZW50Tm9kZT8uaW5zZXJ0QmVmb3JlKGRvY3VtZW50RnJhZ21lbnQsIHRhcmdldC5uZXh0U2libGluZyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICBpZihzY3JvbGxFeHByKSB7XG4gICAgY29uc3QgZiA9IHNjcm9sbEV4cHIuc3BsaXQoXCI6XCIpO1xuICAgIGNvbnN0IHNjcm9sbFR5cGUgPSBmWzBdO1xuICAgIGNvbnN0IHNjcm9sbFRhcmdldCA9IGZbMV07XG4gICAgc3dpdGNoKHNjcm9sbFR5cGUpIHtcbiAgICAgIGNhc2UgXCJzY3JvbGxcIjpcbiAgICAgICAgc3dpdGNoKHNjcm9sbFRhcmdldCkge1xuICAgICAgICAgIGNhc2UgXCJ2aWV3XCI6XG4gICAgICAgICAgICBuZXdDaGlsZC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBleHRyYWN0Rm9ybURhdGEoZm9ybTogSFRNTEZvcm1FbGVtZW50LCBjb25maWcgOiBSZXF1ZXN0Q29uZmlnKSB7XG4gIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICBzd2l0Y2goY29uZmlnLm1ldGhvZCkge1xuICAgIGNhc2UgXCJHRVRcIjpcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWcudXJsICsgXCI/XCIgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKGZvcm1EYXRhIGFzIGFueSkudG9TdHJpbmcoKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJQT1NUXCI6XG4gICAgICAvLyBUT0RPOiBzdXBwb3J0IG90aGVyIGNvbnRlbnQgdHlwZXMgKG11bHRpcGFydC9mb3JtLWRhdGEsIGFwcGxpY2F0aW9uL2pzb24sIGV0Yy4pXG4gICAgICBjb25maWcuYm9keSA9IGZvcm1EYXRhO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX2RvUmVxdWVzdChjdHg6IEFjdG9yQ29udGV4dCwgdXJsOiBQYXRoLCBtZXRob2Q6IHN0cmluZykge1xuICBjb25zdCByZXF1ZXN0VXJsID0gdHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiA/IHVybCA6IHVybChjdHgpO1xuICBjb25zdCBwYXJhbXMgPSBuZXcgRm9ybURhdGEoKTtcbiAgY29uc3QgY29uZmlnIDogUmVxdWVzdENvbmZpZyA9IHtcbiAgICB1cmw6IGJhc2VVcmwgKyByZXF1ZXN0VXJsLFxuICAgIGNvbnRlbnRUeXBlOiBcIlwiLFxuICAgIGNhbmNlbDogZmFsc2UsXG4gICAgbWV0aG9kOiBtZXRob2QsXG4gIH1cblxuICBpZihjdHguc291cmNlRWxlbWVudC50YWdOYW1lID09PSBcIkZPUk1cIikge1xuICAgIGNvbnN0IGZvcm0gPSBjdHguc291cmNlRWxlbWVudCBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgZXh0cmFjdEZvcm1EYXRhKGZvcm0sIGNvbmZpZyk7XG4gIH1cblxuICBpZihjdHguYmVmb3JlQWN0b3IpIHtcbiAgICBhd2FpdCBjdHguYmVmb3JlQWN0b3IoY29uZmlnKVxuICAgIGlmKGNvbmZpZy5jYW5jZWwpIHJldHVyblxuICB9XG5cbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goY29uZmlnLnVybCwgY29uZmlnKTtcblxuICBpZihjdHguYWZ0ZXJBY3Rvcikge1xuICAgIGNvbnN0IG9rID0gYXdhaXQgY3R4LmFmdGVyQWN0b3IocmVzKVxuICAgIGlmKCFvaykgcmV0dXJuXG4gIH1cblxuICBpZiAoY3R4LnN3YXBwZXIpIHtcbiAgICByZXR1cm4gY3R4LnN3YXBwZXIocmVzKTtcbiAgfVxuXG4gIGNvbnN0IG1hcmt1cCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gIHJldHVybiBfc3dhcChjdHgsIFwiaW5uZXJIVE1MXCIsIG1hcmt1cCk7XG59O1xuXG5mdW5jdGlvbiBfc3dhcHBlcihjdHg6IEFjdG9yQ29udGV4dCk6IFN3YXBwZXIgJiBSZXRyaWdnZXIge1xuICByZXR1cm4ge1xuICAgIHN3YXA6IChzd2FwQWN0aW9uOiBzdHJpbmcpID0+IHtcbiAgICAgIGN0eC5zd2FwcGVyID0gYXN5bmMgKHJlczogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgbWFya3VwID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgcmV0dXJuIF9zd2FwKGN0eCwgc3dhcEFjdGlvbiBhcyBTd2FwVHlwZSwgbWFya3VwKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5fYWN0b3IoY3R4KVxuICAgICAgfVxuICAgIH0sXG4gICAgLi4uIF9yZXRyaWdnZXIoY3R4KSxcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIF90YXJnZXQoY3R4OiBBY3RvckNvbnRleHQpOiBTd2FwcGFibGVUYXJnZXQge1xuICByZXR1cm4ge1xuICAgIHRhcmdldDogKHNlbGVjdG9yOiBTZWxlY3RvcikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjdHgudGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LnRhcmdldEVsZW1lbnQgPSBzZWxlY3RvcihjdHgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zd2FwcGVyKGN0eClcbiAgICB9LFxuICAgIGJlZm9yZTogKGZuOiBSZXF1ZXN0Q29uZmlnRm4pOiBTd2FwcGFibGVUYXJnZXQgPT4ge1xuICAgICAgY3R4LmJlZm9yZUFjdG9yID0gZm5cbiAgICAgIHJldHVybiBfdGFyZ2V0KGN0eClcbiAgICB9LFxuICAgIGFmdGVyOiAoZm46IFBvc3RSZXF1ZXN0Rm4pIDogU3dhcHBhYmxlVGFyZ2V0ID0+IHtcbiAgICAgIGN0eC5hZnRlckFjdG9yID0gZm5cbiAgICAgIHJldHVybiBfdGFyZ2V0KGN0eClcbiAgICB9LFxuICAgIC4uLl9zd2FwcGVyKGN0eCksXG4gICAgLi4uX3JldHJpZ2dlcihjdHgpXG4gIH07XG59O1xuXG5mdW5jdGlvbiBfcmV0cmlnZ2VyKGN0eDogQWN0b3JDb250ZXh0KTogUmV0cmlnZ2VyIHtcbiAgcmV0dXJuIHtcbiAgICByZXRyaWdnZXI6ICgpID0+IHtcbiAgICAgIGlmICghY3R4LmFjdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdG9yIGF2YWlsYWJsZVwiKTtcbiAgICAgIH1cbiAgICAgIGN0eC5hY3RvcihudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gX2FjdG9yKGN0eDogQWN0b3JDb250ZXh0KTogUmV0cmlnZ2VyYWJsZUFjdG9yIHtcbiAgaWYgKCFjdHguc291cmNlRWxlbWVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInNvdXJjZSBlbGVtZW50IGlzIG5vdCBkZWZpbmVkXCIpO1xuICB9XG4gIGlmICghY3R4LnRyaWdnZXJFdmVudCkge1xuICAgIHN3aXRjaCAoY3R4LnNvdXJjZUVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgY2FzZSBcIkJVVFRPTlwiOlxuICAgICAgICBjdHgudHJpZ2dlckV2ZW50ID0gXCJjbGlja1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJGT1JNXCI6XG4gICAgICAgIGN0eC50cmlnZ2VyRXZlbnQgPSBcInN1Ym1pdFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGN0eC50cmlnZ2VyRXZlbnQgPSBcImtpbG86bG9hZFwiO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgY3R4LnNvdXJjZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihjdHgudHJpZ2dlckV2ZW50LCBjdHgudHJpZ2dlcik7XG4gIHJldHVybiB7XG4gICAgZ2V0OiAodXJsOiBQYXRoKSA9PiB7XG4gICAgICBjdHguYWN0b3IgPSBhc3luYyAoZXY6IEV2ZW50IHwgbnVsbCkgPT4ge1xuICAgICAgICBldj8ucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgX2RvUmVxdWVzdChjdHgsIHVybCwgXCJHRVRcIik7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX3RhcmdldChjdHgpLFxuICAgICAgICAuLi5fcmV0cmlnZ2VyKGN0eCksXG4gICAgICB9O1xuICAgIH0sXG4gICAgcG9zdDogKHVybDogUGF0aCkgPT4ge1xuICAgICAgY3R4LmFjdG9yID0gYXN5bmMgKGV2OiBFdmVudCB8IG51bGwpID0+IHtcbiAgICAgICAgZXY/LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIF9kb1JlcXVlc3QoY3R4LCB1cmwsIFwiUE9TVFwiKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5fdGFyZ2V0KGN0eCksXG4gICAgICAgIC4uLl9yZXRyaWdnZXIoY3R4KSxcbiAgICAgIH07XG4gICAgfSxcbiAgICAuLi5fcmV0cmlnZ2VyKGN0eCksXG4gIH07XG59O1xuXG5mdW5jdGlvbiBfdHJpZ2dlcihjdHg6IEFjdG9yQ29udGV4dCk6IFRyaWdnZXIge1xuICByZXR1cm4ge1xuICAgIG9uOiAoZXZlbnQ6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKCFjdHguc291cmNlRWxlbWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IGlzIG5vdCBkZWZpbmVkXCIpO1xuICAgICAgfVxuICAgICAgY3R4LnRyaWdnZXJFdmVudCA9IGV2ZW50O1xuICAgICAgcmV0dXJuIF9hY3RvcihjdHgpXG4gICAgfSxcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIF9zc2Uoc3JjOiBTU0VFdmVudFNvdXJjZSk6IFNTRSB7XG4gIHJldHVybiB7XG4gICAgcGF1c2U6IChpc1BhdXNlZDogYm9vbGVhbikgPT4ge1xuICAgICAgc3JjLmlzUGF1c2VkID0gaXNQYXVzZWQ7XG4gICAgICBpZighc3JjLmhhbmRsZXIpIHJldHVybiBfc3NlKHNyYyk7XG4gICAgICBpZighc3JjLmlzUGF1c2VkKSB7XG4gICAgICAgIHdoaWxlKHNyYy5xdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZXYgPSBzcmMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICBpZighZXYpIGNvbnRpbnVlO1xuICAgICAgICAgIHNyYy5oYW5kbGVyKGV2KTtcbiAgICAgICAgfVxuICAgICAgICBzcmMucXVldWUgPSBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc3NlKHNyYyk7XG4gICAgfSxcbiAgICBjbGVhcjogKCkgPT4ge1xuICAgICAgc3JjLnF1ZXVlID0gW107XG4gICAgfSxcbiAgICBjbG9zZTogKCkgPT4ge1xuICAgICAgc3JjLnNvdXJjZS5jbG9zZSgpO1xuICAgICAgYWN0b3JSZWdpc3RyeS5zc2VTb3VyY2VzID0gYWN0b3JSZWdpc3RyeS5zc2VTb3VyY2VzLmZpbHRlcihzID0+IHMgIT09IHNyYyk7XG4gICAgfSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gX2Jhc2UoKTogQmFzZSB7XG4gIHJldHVybiB7XG4gICAgYmFzZVVybDogKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICBiYXNlVXJsID0gdXJsO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX2Jhc2UoKVxuICAgICAgfVxuICAgIH0sXG4gICAgc3NlOiAodXJsOiBzdHJpbmcsIG9wdGlvbnM6IGFueSk6IFNTRSA9PiB7XG4gICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9O1xuICAgICAgY29uc3Qgc3JjOiBTU0VFdmVudFNvdXJjZSA9IHtcbiAgICAgICAgc291cmNlOiBuZXcgRXZlbnRTb3VyY2UoYmFzZVVybCArIHVybCwgb3B0cyksXG4gICAgICAgIGlzUGF1c2VkOiBmYWxzZSxcbiAgICAgICAgaGFuZGxlcjogdW5kZWZpbmVkLFxuICAgICAgICBxdWV1ZTogW10sXG4gICAgICB9O1xuICAgICAgc3JjLmhhbmRsZXIgPSAgZGVmYXVsdFNTRUV2ZW50SGFuZGxlcihzcmMpXG4gICAgICBhY3RvclJlZ2lzdHJ5LnNzZVNvdXJjZXMucHVzaChzcmMpO1xuICAgICAgcmV0dXJuIF9zc2Uoc3JjKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIF9iaW5kZXI8VD4oY3R4OiBTdGF0ZUNvbnRleHQ8VD4pIHtcbiAgcmV0dXJuIChmaWVsZDoga2V5b2YgVCwgc2VsZWN0b3I6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYoIWVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IG5vdCBmb3VuZFwiKTtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlciA9IChldjogRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRndCA9IGV2LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIHN3aXRjaCh0Z3QudGFnTmFtZSkge1xuICAgICAgICBjYXNlIFwiSU5QVVRcIjpcbiAgICAgICAgICBjb25zdCBpbnB1dCA9IHRndCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgIHN3aXRjaChpbnB1dC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgICAgICAgY3R4LnN0YXRlW2ZpZWxkIGFzIGtleW9mIFVud3JhcE5lc3RlZFJlZnM8VD5dID0gaW5wdXQuY2hlY2tlZCBhcyBhbnk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgY3R4LnN0YXRlW2ZpZWxkIGFzIGtleW9mIFVud3JhcE5lc3RlZFJlZnM8VD5dID0gaW5wdXQudmFsdWUgYXMgYW55O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJTRUxFQ1RcIjpcbiAgICAgICAgICBjdHguc3RhdGVbZmllbGQgYXMga2V5b2YgVW53cmFwTmVzdGVkUmVmczxUPl0gPSAodGd0IGFzIEhUTUxTZWxlY3RFbGVtZW50KS52YWx1ZSBhcyBhbnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJURVhUQVJFQVwiOlxuICAgICAgICAgIGN0eC5zdGF0ZVtmaWVsZCBhcyBrZXlvZiBVbndyYXBOZXN0ZWRSZWZzPFQ+XSA9ICh0Z3QgYXMgSFRNTFRleHRBcmVhRWxlbWVudCkudmFsdWUgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGJpbmRpbmcgPSB7XG4gICAgICBmaWVsZDogZmllbGQgYXMgc3RyaW5nLFxuICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgZXZlbnRzOiBbXSBhcyBzdHJpbmdbXSxcbiAgICAgIGVsZW1lbnQ6IGVsLFxuICAgICAgaGFuZGxlcjogaGFuZGxlcixcbiAgICB9XG4gICAgYmluZGluZy5ldmVudHMucHVzaChcImNoYW5nZVwiKTtcbiAgICBjdHguYmluZGluZ3NbZmllbGRdID0gYmluZGluZztcblxuICAgIHN3aXRjaChlbC50YWdOYW1lKSB7XG4gICAgICBjYXNlIFwiSU5QVVRcIjpcbiAgICAgICAgY29uc3QgaW5wdXQgPSBlbCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICBzd2l0Y2goaW5wdXQudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICBiaW5kaW5nLmV2ZW50cy5wdXNoKFwia2V5dXBcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJTRUxFQ1RcIjpcbiAgICAgICAgYmluZGluZy5ldmVudHMucHVzaChcInNlbGVjdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgICAgYmluZGluZy5ldmVudHMucHVzaChcImtleXVwXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgZm9yKGNvbnN0IGV2ZW50IG9mIGJpbmRpbmcuZXZlbnRzKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLl9zdGF0ZShjdHgpLFxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gX3N0YXRlPFQ+KGN0eDogU3RhdGVDb250ZXh0PFQ+KTogTW9kZWw8VD4gJiBTdGF0ZTxUPiB7XG4gIHJldHVybiB7XG4gICAgbW9kZWw6IGN0eC5zdGF0ZSxcbiAgICB3YXRjaDogKGZpZWxkOiBrZXlvZiBULCBoYW5kbGVyOiAoc3RhdGU6IGFueSwgcHJldjogYW55KSA9PiB2b2lkfFByb21pc2U8dm9pZD4pID0+IHtcbiAgICAgIHdhdGNoKCgpID0+IGN0eC5zdGF0ZVtmaWVsZCBhcyBrZXlvZiBVbndyYXBOZXN0ZWRSZWZzPFQ+XSwgYXN5bmMgKHN0YXRlOiBhbnksIHByZXY6IGFueSkgPT4ge1xuICAgICAgICBhd2FpdCBoYW5kbGVyKHN0YXRlLCBwcmV2KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX3N0YXRlKGN0eCksXG4gICAgICB9XG4gICAgfSxcbiAgICBiaW5kOiBfYmluZGVyKGN0eCksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFjdG9yKHNlbGVjdG9yOiBzdHJpbmcpOiBUcmlnZ2VyICYgQWN0b3Ige1xuICBjb25zdCBzcmMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBIVE1MRWxlbWVudDtcbiAgaWYoIXNyYykge1xuICAgIHRocm93IG5ldyBFcnJvcihcInNvdXJjZSBlbGVtZW50IG5vdCBmb3VuZlwiKVxuICB9XG5cbiAgY29uc3QgY3R4OiBBY3RvckNvbnRleHQgPSB7XG4gICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgIHNvdXJjZUVsZW1lbnQ6IHNyYyxcbiAgICB0cmlnZ2VyOiBhc3luYyAoZXY6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWN0eC5hY3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBldmVudCBoYW5kbGVyIHNwZWNpZmllZFwiKTtcbiAgICAgIH1cbiAgICAgIGN0eC5hY3Rvcihldik7XG4gICAgfSxcbiAgICB0YXJnZXRFbGVtZW50OiBudWxsLFxuICAgIHRyaWdnZXJFdmVudDogbnVsbCxcbiAgICBhY3RvcjogbnVsbCxcbiAgICBzd2FwcGVyOiBudWxsLFxuICAgIGJlZm9yZUFjdG9yOiBudWxsLFxuICAgIGFmdGVyQWN0b3I6IG51bGwsXG59O1xuXG4gIGFjdG9yUmVnaXN0cnkuY29udGV4dHMucHVzaChjdHgpO1xuXG4gIHJldHVybiB7XG4gICAgLi4uX3RyaWdnZXIoY3R4KSxcbiAgICAuLi5fYWN0b3IoY3R4KSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhdGU8VD4oaW5pdGlhbFN0YXRlOiBUICYgb2JqZWN0KTogTW9kZWw8VD4gJiBTdGF0ZTxUPiB7XG4gIGNvbnN0IGN0eDogU3RhdGVDb250ZXh0PFQ+ID0ge1xuICAgIHN0YXRlOiByZWFjdGl2ZShpbml0aWFsU3RhdGUpLFxuICAgIGJpbmRpbmdzOiB7fSBhcyBSZWNvcmQ8a2V5b2YgVCwgQmluZGluZ0VudHJ5PixcbiAgfVxuXG4gIHN0YXRlUmVnaXN0cnkuY29udGV4dHMucHVzaChjdHgpXG5cbiAgcmV0dXJuIHtcbiAgICAuLi5fc3RhdGUoY3R4KSxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24ga2lsbzxUPigpOiBCYXNlIHtcbiAgcmV0dXJuIF9iYXNlKClcbn1cbiIsImltcG9ydCBcIi4vbWFpbi5jc3NcIlxuaW1wb3J0IHsga2lsbywgYWN0b3IsIHN0YXRlIH0gZnJvbSBcIi4vbGliL2tpbG9cIlxuXG5raWxvKCkuYmFzZVVybChcImh0dHA6Ly9sb2NhbGhvc3Q6NDAwMVwiKVxuXG5jb25zdCBldmVudFNvdXJjZSA9IGtpbG8oKS5zc2UoXCIvc3NlP3N0cmVhbT1ldmVudHNcIiwgeyB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlIH0pXG5cbmNvbnN0IGFwcFN0YXRlID0gc3RhdGUoe1xuICAgIHNlYXJjaFRleHQ6IFwiXCIsXG4gICAgcnVuSWQ6IDAsXG4gICAgaXNTaG93aW5nU2VhcmNoUmVzdWx0czogZmFsc2UsXG4gIH0pXG4gIC5iaW5kKFwic2VhcmNoVGV4dFwiLCBcIiNzZWFyY2gtaW5wdXRcIilcbiAgLmJpbmQoXCJydW5JZFwiLCBcIiNzZWFyY2gtc2VsZWN0XCIpXG5cbmNvbnN0IHNlYXJjaFNlbGVjdEluaXRBY3RvciA9IGFjdG9yKFwiI3NlYXJjaC1zZWxlY3RcIilcbiAgLmdldChcIi9jb21wb25lbnRzL3NlYXJjaC1zZWxlY3RcIilcbiAgLnN3YXAoXCJvdXRlckhUTUxcIilcblxuY29uc3QgbG9nQWN0b3IgPSBhY3RvcihcIiNsb2ctb3V0cHV0LWlubmVyXCIpXG4gIC5nZXQoXCIvYWN0aW9ucy9zZWFyY2hcIilcblxuY29uc3Qgc2VhcmNoRm9ybUFjdG9yID0gYWN0b3IoXCIjc2VhcmNoLWZvcm1cIilcbiAgLmdldChcIi9hY3Rpb25zL3NlYXJjaFwiKVxuICAuYmVmb3JlKCgpID0+IHtcbiAgICBhcHBTdGF0ZS5tb2RlbC5pc1Nob3dpbmdTZWFyY2hSZXN1bHRzID0gdHJ1ZTtcbiAgfSlcbiAgLnRhcmdldChcIiNsb2ctb3V0cHV0LWlubmVyXCIpXG5cbmFwcFN0YXRlLndhdGNoKFwic2VhcmNoVGV4dFwiLCAoc2VhcmNoVGV4dCkgPT4ge1xuICBjb25zdCBwYXVzZSA9IHNlYXJjaFRleHQubGVuZ3RoID4gMFxuICBpZighcGF1c2UpIHtcbiAgICBhcHBTdGF0ZS5tb2RlbC5pc1Nob3dpbmdTZWFyY2hSZXN1bHRzID0gZmFsc2U7XG4gIH1cbiAgZXZlbnRTb3VyY2UucGF1c2UocGF1c2UpXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibGlua2luZy1jdXJzb3JcIikgYXMgSFRNTEVsZW1lbnRcbiAgaWYoIWVsKSByZXR1cm5cbiAgZWwuc3R5bGUudmlzaWJpbGl0eSA9IHBhdXNlID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiXG59KVxuXG5hcHBTdGF0ZS53YXRjaChcImlzU2hvd2luZ1NlYXJjaFJlc3VsdHNcIiwgKGlzU2hvd2luZ1NlYXJjaFJlc3VsdHMpID0+IHtcbiAgaWYoIWlzU2hvd2luZ1NlYXJjaFJlc3VsdHMpIHtcbiAgICBldmVudFNvdXJjZS5jbGVhcigpXG4gICAgc2VhcmNoU2VsZWN0SW5pdEFjdG9yLnJldHJpZ2dlcigpXG4gICAgbG9nQWN0b3IucmV0cmlnZ2VyKClcbiAgfVxufSlcblxuYXBwU3RhdGUud2F0Y2goXCJydW5JZFwiLCAocnVuSWQpID0+IHtcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlYXJjaC1zZWxlY3RcIikgYXMgSFRNTFNlbGVjdEVsZW1lbnRcbiAgY29uc3QgY3VycmVudFJ1bklkID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1jdXJyZW50LXJ1bi1pZFwiKSBhcyBzdHJpbmdcbiAgY29uc3QgcGF1c2UgPSBydW5JZCAhPSBjdXJyZW50UnVuSWRcbiAgZXZlbnRTb3VyY2UucGF1c2UocGF1c2UpXG4gIGlmKHBhdXNlICYmIGFwcFN0YXRlLm1vZGVsLnNlYXJjaFRleHQubGVuZ3RoID4gMCkge1xuICAgIHNlYXJjaEZvcm1BY3Rvci5yZXRyaWdnZXIoKVxuICB9XG4gIGNvbnN0IGN1cnNvckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibGlua2luZy1jdXJzb3JcIikgYXMgSFRNTEVsZW1lbnRcbiAgaWYoIWN1cnNvckVsKSByZXR1cm5cbiAgY3Vyc29yRWwuc3R5bGUudmlzaWJpbGl0eSA9IHBhdXNlID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiXG59KVxuXG5hY3RvcihcIiNyZXN0YXJ0XCIpXG4gIC5wb3N0KFwiL2FjdGlvbnMvcmVzdGFydFwiKVxuICAuc3dhcChcIm5vbmVcIilcbiJdLCJuYW1lcyI6WyJtYWtlTWFwIiwic3RyIiwiZXhwZWN0c0xvd2VyQ2FzZSIsIm1hcCIsImxpc3QiLCJpIiwidmFsIiwiTk9PUCIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwia2V5IiwiaXNBcnJheSIsImlzTWFwIiwidG9UeXBlU3RyaW5nIiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiaXNTeW1ib2wiLCJpc09iamVjdCIsImlzUHJvbWlzZSIsIm9iamVjdFRvU3RyaW5nIiwidmFsdWUiLCJ0b1Jhd1R5cGUiLCJpc0ludGVnZXJLZXkiLCJoYXNDaGFuZ2VkIiwib2xkVmFsdWUiLCJhY3RpdmVFZmZlY3RTY29wZSIsInJlY29yZEVmZmVjdFNjb3BlIiwiZWZmZWN0Iiwic2NvcGUiLCJjcmVhdGVEZXAiLCJlZmZlY3RzIiwiZGVwIiwid2FzVHJhY2tlZCIsInRyYWNrT3BCaXQiLCJuZXdUcmFja2VkIiwiaW5pdERlcE1hcmtlcnMiLCJkZXBzIiwiZmluYWxpemVEZXBNYXJrZXJzIiwicHRyIiwidGFyZ2V0TWFwIiwiZWZmZWN0VHJhY2tEZXB0aCIsIm1heE1hcmtlckJpdHMiLCJhY3RpdmVFZmZlY3QiLCJJVEVSQVRFX0tFWSIsIk1BUF9LRVlfSVRFUkFURV9LRVkiLCJSZWFjdGl2ZUVmZmVjdCIsImZuIiwic2NoZWR1bGVyIiwicGFyZW50IiwibGFzdFNob3VsZFRyYWNrIiwic2hvdWxkVHJhY2siLCJjbGVhbnVwRWZmZWN0IiwiZWZmZWN0MiIsInRyYWNrU3RhY2siLCJwYXVzZVRyYWNraW5nIiwicmVzZXRUcmFja2luZyIsImxhc3QiLCJ0cmFjayIsInRhcmdldCIsInR5cGUiLCJkZXBzTWFwIiwidHJhY2tFZmZlY3RzIiwiZGVidWdnZXJFdmVudEV4dHJhSW5mbyIsInNob3VsZFRyYWNrMiIsInRyaWdnZXIiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsIm5ld0xlbmd0aCIsImtleTIiLCJ0cmlnZ2VyRWZmZWN0cyIsInRyaWdnZXJFZmZlY3QiLCJpc05vblRyYWNrYWJsZUtleXMiLCJidWlsdEluU3ltYm9scyIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImluc3RydW1lbnRhdGlvbnMiLCJhcmdzIiwiYXJyIiwidG9SYXciLCJsIiwicmVzIiwib2JqIiwiQmFzZVJlYWN0aXZlSGFuZGxlciIsIl9pc1JlYWRvbmx5IiwiX3NoYWxsb3ciLCJyZWNlaXZlciIsImlzUmVhZG9ubHkyIiwic2hhbGxvdyIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsImlzUmVhZG9ubHkiLCJpc1NoYWxsb3ciLCJoYWRLZXkiLCJyZXN1bHQiLCJSZWFkb25seVJlYWN0aXZlSGFuZGxlciIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJ0b1NoYWxsb3ciLCJnZXRQcm90byIsInYiLCJnZXQiLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJoYXMyIiwid3JhcCIsInRvUmVhZG9ubHkiLCJ0b1JlYWN0aXZlIiwiaGFzIiwic2l6ZSIsImFkZCIsInNldCIsImdldDIiLCJkZWxldGVFbnRyeSIsImNsZWFyIiwiaGFkSXRlbXMiLCJjcmVhdGVGb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwib2JzZXJ2ZWQiLCJjcmVhdGVJdGVyYWJsZU1ldGhvZCIsIm1ldGhvZCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsImRvbmUiLCJjcmVhdGVSZWFkb25seU1ldGhvZCIsImNyZWF0ZUluc3RydW1lbnRhdGlvbnMiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczIiLCJzaGFsbG93SW5zdHJ1bWVudGF0aW9uczIiLCJyZWFkb25seUluc3RydW1lbnRhdGlvbnMyIiwic2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlciIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJyZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyIsInRhcmdldFR5cGVNYXAiLCJyYXdUeXBlIiwiZ2V0VGFyZ2V0VHlwZSIsImNyZWF0ZVJlYWN0aXZlT2JqZWN0IiwiYmFzZUhhbmRsZXJzIiwiY29sbGVjdGlvbkhhbmRsZXJzIiwicHJveHlNYXAiLCJleGlzdGluZ1Byb3h5IiwidGFyZ2V0VHlwZSIsInByb3h5IiwiaXNSZWFjdGl2ZSIsInJhdyIsInIiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJlcnIiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwid2FybiIsIm1lc3NhZ2UiLCJjcmVhdGVFcnJvciIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsIndhdGNoIiwic291cmNlIiwiY2IiLCJvcHRpb25zIiwiZG9XYXRjaCIsImltbWVkaWF0ZSIsImRlZXAiLCJmbHVzaCIsImdldHRlciIsImZvcmNlVHJpZ2dlciIsImlzTXVsdGlTb3VyY2UiLCJzIiwidHJhdmVyc2UiLCJpc0Z1bmN0aW9uMiIsImNsZWFudXAiLCJvbkNsZWFudXAiLCJiYXNlR2V0dGVyIiwiam9iIiwic2VlbiIsIl8iLCJiYXNlVXJsIiwiYWN0b3JSZWdpc3RyeSIsInN0YXRlUmVnaXN0cnkiLCJjb250ZXh0cyIsInByZXYiLCJjdHgiLCJzdGF0ZUJpbmRpbmdPYnNlcnZlciIsIm11dGF0aW9ucyIsIm0iLCJyZW1vdmVkIiwiZWwiLCJldmVudCIsIl9iaW5kZXIiLCJldiIsInNyYyIsImRlZmF1bHRTU0VFdmVudEhhbmRsZXIiLCJlIiwibXNnIiwic3dhcCIsIm1hcmt1cCIsIl9zd2FwIiwic3dhcEV4cHIiLCJfYSIsIl9iIiwiX2MiLCJmIiwic3dhcFR5cGUiLCJzY3JvbGxFeHByIiwicmFuZ2UiLCJkb2N1bWVudEZyYWdtZW50IiwibmV3Q2hpbGQiLCJzY3JvbGxUeXBlIiwic2Nyb2xsVGFyZ2V0IiwiZXh0cmFjdEZvcm1EYXRhIiwiZm9ybSIsImNvbmZpZyIsImZvcm1EYXRhIiwiX2RvUmVxdWVzdCIsInVybCIsInJlcXVlc3RVcmwiLCJfc3dhcHBlciIsInN3YXBBY3Rpb24iLCJfYWN0b3IiLCJfcmV0cmlnZ2VyIiwiX3RhcmdldCIsInNlbGVjdG9yIiwiX3RyaWdnZXIiLCJfc3NlIiwiaXNQYXVzZWQiLCJfYmFzZSIsIm9wdHMiLCJmaWVsZCIsImhhbmRsZXIiLCJ0Z3QiLCJpbnB1dCIsImJpbmRpbmciLCJfc3RhdGUiLCJzdGF0ZSIsImFjdG9yIiwiaW5pdGlhbFN0YXRlIiwia2lsbyIsImV2ZW50U291cmNlIiwiYXBwU3RhdGUiLCJzZWFyY2hTZWxlY3RJbml0QWN0b3IiLCJsb2dBY3RvciIsInNlYXJjaEZvcm1BY3RvciIsInNlYXJjaFRleHQiLCJwYXVzZSIsImlzU2hvd2luZ1NlYXJjaFJlc3VsdHMiLCJydW5JZCIsImN1cnJlbnRSdW5JZCIsImN1cnNvckVsIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxHQUFRQyxFQUFLQyxFQUFrQixDQUNoQyxNQUFBQyxFQUE2QixPQUFBLE9BQU8sSUFBSSxFQUN4Q0MsRUFBT0gsRUFBSSxNQUFNLEdBQUcsRUFDMUIsUUFBU0ksRUFBSSxFQUFHQSxFQUFJRCxFQUFLLE9BQVFDLElBQzNCRixFQUFBQyxFQUFLQyxDQUFDLENBQUMsRUFBSSxHQUVqQixPQUFPSCxFQUFvQkksR0FBUSxDQUFDLENBQUNILEVBQUlHLEVBQUksWUFBYSxDQUFBLEVBQUtBLEdBQVEsQ0FBQyxDQUFDSCxFQUFJRyxDQUFHLENBQ2xGLENBSUEsTUFBTUMsR0FBTyxJQUFNLENBQ25CLEVBWU1DLEdBQWlCLE9BQU8sVUFBVSxlQUNsQ0MsRUFBUyxDQUFDSCxFQUFLSSxJQUFRRixHQUFlLEtBQUtGLEVBQUtJLENBQUcsRUFDbkRDLEVBQVUsTUFBTSxRQUNoQkMsRUFBU04sR0FBUU8sR0FBYVAsQ0FBRyxJQUFNLGVBSXZDUSxFQUFjUixHQUFRLE9BQU9BLEdBQVEsV0FDckNTLEdBQVlULEdBQVEsT0FBT0EsR0FBUSxTQUNuQ1UsRUFBWVYsR0FBUSxPQUFPQSxHQUFRLFNBQ25DVyxFQUFZWCxHQUFRQSxJQUFRLE1BQVEsT0FBT0EsR0FBUSxTQUNuRFksR0FBYVosSUFDVFcsRUFBU1gsQ0FBRyxHQUFLUSxFQUFXUixDQUFHLElBQU1RLEVBQVdSLEVBQUksSUFBSSxHQUFLUSxFQUFXUixFQUFJLEtBQUssRUFFckZhLEdBQWlCLE9BQU8sVUFBVSxTQUNsQ04sR0FBZ0JPLEdBQVVELEdBQWUsS0FBS0MsQ0FBSyxFQUNuREMsR0FBYUQsR0FDVlAsR0FBYU8sQ0FBSyxFQUFFLE1BQU0sRUFBRyxFQUFFLEVBR2xDRSxHQUFnQlosR0FBUUssR0FBU0wsQ0FBRyxHQUFLQSxJQUFRLE9BQVNBLEVBQUksQ0FBQyxJQUFNLEtBQU8sR0FBSyxTQUFTQSxFQUFLLEVBQUUsSUFBTUEsRUE4QnZHYSxFQUFhLENBQUNILEVBQU9JLElBQWEsQ0FBQyxPQUFPLEdBQUdKLEVBQU9JLENBQVEsRUNwRWxFLElBQUlDLEdBa0ZKLFNBQVNDLEdBQWtCQyxFQUFRQyxFQUFRSCxHQUFtQixDQUN4REcsR0FBU0EsRUFBTSxRQUNYQSxFQUFBLFFBQVEsS0FBS0QsQ0FBTSxDQUU3QixDQWNBLE1BQU1FLEdBQWFDLEdBQVksQ0FDdkIsTUFBQUMsRUFBTSxJQUFJLElBQUlELENBQU8sRUFDM0IsT0FBQUMsRUFBSSxFQUFJLEVBQ1JBLEVBQUksRUFBSSxFQUNEQSxDQUNULEVBQ01DLEdBQWNELElBQVNBLEVBQUksRUFBSUUsR0FBYyxFQUM3Q0MsR0FBY0gsSUFBU0EsRUFBSSxFQUFJRSxHQUFjLEVBQzdDRSxHQUFpQixDQUFDLENBQUUsS0FBQUMsS0FBVyxDQUNuQyxHQUFJQSxFQUFLLE9BQ1AsUUFBUy9CLEVBQUksRUFBR0EsRUFBSStCLEVBQUssT0FBUS9CLElBQzFCK0IsRUFBQS9CLENBQUMsRUFBRSxHQUFLNEIsQ0FHbkIsRUFDTUksR0FBc0JWLEdBQVcsQ0FDL0IsS0FBQSxDQUFFLEtBQUFTLENBQVNULEVBQUFBLEVBQ2pCLEdBQUlTLEVBQUssT0FBUSxDQUNmLElBQUlFLEVBQU0sRUFDVixRQUFTakMsRUFBSSxFQUFHQSxFQUFJK0IsRUFBSyxPQUFRL0IsSUFBSyxDQUM5QixNQUFBMEIsRUFBTUssRUFBSy9CLENBQUMsRUFDZDJCLEdBQVdELENBQUcsR0FBSyxDQUFDRyxHQUFXSCxDQUFHLEVBQ3BDQSxFQUFJLE9BQU9KLENBQU0sRUFFakJTLEVBQUtFLEdBQUssRUFBSVAsRUFFaEJBLEVBQUksR0FBSyxDQUFDRSxFQUNWRixFQUFJLEdBQUssQ0FBQ0UsQ0FDWixDQUNBRyxFQUFLLE9BQVNFLENBQ2hCLENBQ0YsRUFFTUMsTUFBZ0MsUUFDdEMsSUFBSUMsRUFBbUIsRUFDbkJQLEVBQWEsRUFDakIsTUFBTVEsRUFBZ0IsR0FDdEIsSUFBSUMsRUFDSixNQUFNQyxFQUFjLE9BQStELEVBQUUsRUFDL0VDLEVBQXNCLE9BQXVFLEVBQUUsRUFDckcsTUFBTUMsRUFBZSxDQUNuQixZQUFZQyxFQUFJQyxFQUFZLEtBQU1uQixFQUFPLENBQ3ZDLEtBQUssR0FBS2tCLEVBQ1YsS0FBSyxVQUFZQyxFQUNqQixLQUFLLE9BQVMsR0FDZCxLQUFLLEtBQU8sR0FDWixLQUFLLE9BQVMsT0FDZHJCLEdBQWtCLEtBQU1FLENBQUssQ0FDL0IsQ0FDQSxLQUFNLENBQ0EsR0FBQSxDQUFDLEtBQUssT0FDUixPQUFPLEtBQUssS0FFZCxJQUFJb0IsRUFBU04sRUFDVE8sRUFBa0JDLEVBQ3RCLEtBQU9GLEdBQVEsQ0FDYixHQUFJQSxJQUFXLEtBQ2IsT0FFRkEsRUFBU0EsRUFBTyxNQUNsQixDQUNJLEdBQUEsQ0FDRixZQUFLLE9BQVNOLEVBQ0NBLEVBQUEsS0FDRFEsRUFBQSxHQUNkakIsRUFBYSxHQUFLLEVBQUVPLEVBQ2hCQSxHQUFvQkMsRUFDdEJOLEdBQWUsSUFBSSxFQUVuQmdCLEdBQWMsSUFBSSxFQUViLEtBQUssSUFBRyxRQUNmLENBQ0lYLEdBQW9CQyxHQUN0QkosR0FBbUIsSUFBSSxFQUV6QkosRUFBYSxHQUFLLEVBQUVPLEVBQ3BCRSxFQUFlLEtBQUssT0FDTlEsRUFBQUQsRUFDZCxLQUFLLE9BQVMsT0FDVixLQUFLLFdBQ1AsS0FBSyxLQUFLLENBRWQsQ0FDRixDQUNBLE1BQU8sQ0FDRFAsSUFBaUIsS0FDbkIsS0FBSyxVQUFZLEdBQ1IsS0FBSyxTQUNkUyxHQUFjLElBQUksRUFDZCxLQUFLLFFBQ1AsS0FBSyxPQUFPLEVBRWQsS0FBSyxPQUFTLEdBRWxCLENBQ0YsQ0FDQSxTQUFTQSxHQUFjQyxFQUFTLENBQ3hCLEtBQUEsQ0FBRSxLQUFBaEIsQ0FBUyxFQUFBZ0IsRUFDakIsR0FBSWhCLEVBQUssT0FBUSxDQUNmLFFBQVMvQixFQUFJLEVBQUdBLEVBQUkrQixFQUFLLE9BQVEvQixJQUMxQitCLEVBQUEvQixDQUFDLEVBQUUsT0FBTytDLENBQU8sRUFFeEJoQixFQUFLLE9BQVMsQ0FDaEIsQ0FDRixDQXFCQSxJQUFJYyxFQUFjLEdBQ2xCLE1BQU1HLEdBQWEsQ0FBQSxFQUNuQixTQUFTQyxJQUFnQixDQUN2QkQsR0FBVyxLQUFLSCxDQUFXLEVBQ2JBLEVBQUEsRUFDaEIsQ0FLQSxTQUFTSyxJQUFnQixDQUNqQixNQUFBQyxFQUFPSCxHQUFXLE1BQ1ZILEVBQUFNLElBQVMsT0FBUyxHQUFPQSxDQUN6QyxDQUNBLFNBQVNDLEVBQU1DLEVBQVFDLEVBQU1qRCxFQUFLLENBQ2hDLEdBQUl3QyxHQUFlUixFQUFjLENBQzNCLElBQUFrQixFQUFVckIsRUFBVSxJQUFJbUIsQ0FBTSxFQUM3QkUsR0FDSHJCLEVBQVUsSUFBSW1CLEVBQVFFLEVBQTBCLElBQUksR0FBSyxFQUV2RCxJQUFBN0IsRUFBTTZCLEVBQVEsSUFBSWxELENBQUcsRUFDcEJxQixHQUNINkIsRUFBUSxJQUFJbEQsRUFBS3FCLEVBQU1GLEdBQVcsQ0FBQSxFQUdwQ2dDLEdBQWE5QixDQUFjLENBQzdCLENBQ0YsQ0FDQSxTQUFTOEIsR0FBYTlCLEVBQUsrQixFQUF3QixDQUNqRCxJQUFJQyxFQUFlLEdBQ2Z2QixHQUFvQkMsRUFDakJQLEdBQVdILENBQUcsSUFDakJBLEVBQUksR0FBS0UsRUFDTThCLEVBQUEsQ0FBQy9CLEdBQVdELENBQUcsR0FHakJnQyxFQUFBLENBQUNoQyxFQUFJLElBQUlXLENBQVksRUFFbENxQixJQUNGaEMsRUFBSSxJQUFJVyxDQUFZLEVBQ1BBLEVBQUEsS0FBSyxLQUFLWCxDQUFHLEVBWTlCLENBQ0EsU0FBU2lDLEVBQVFOLEVBQVFDLEVBQU1qRCxFQUFLdUQsRUFBVXpDLEVBQVUwQyxFQUFXLENBQzNELE1BQUFOLEVBQVVyQixFQUFVLElBQUltQixDQUFNLEVBQ3BDLEdBQUksQ0FBQ0UsRUFDSCxPQUVGLElBQUl4QixFQUFPLENBQUEsRUFDWCxHQUFJdUIsSUFBUyxRQUNYdkIsRUFBTyxDQUFDLEdBQUd3QixFQUFRLE9BQVEsQ0FBQSxVQUNsQmxELElBQVEsVUFBWUMsRUFBUStDLENBQU0sRUFBRyxDQUN4QyxNQUFBUyxFQUFZLE9BQU9GLENBQVEsRUFDekJMLEVBQUEsUUFBUSxDQUFDN0IsRUFBS3FDLElBQVMsRUFDekJBLElBQVMsVUFBWSxDQUFDcEQsRUFBU29ELENBQUksR0FBS0EsR0FBUUQsSUFDbEQvQixFQUFLLEtBQUtMLENBQUcsQ0FDZixDQUNELENBQUEsS0FLRCxRQUhJckIsSUFBUSxRQUNWMEIsRUFBSyxLQUFLd0IsRUFBUSxJQUFJbEQsQ0FBRyxDQUFDLEVBRXBCaUQsRUFBTSxDQUNaLElBQUssTUFDRWhELEVBQVErQyxDQUFNLEVBS1JwQyxHQUFhWixDQUFHLEdBQ3pCMEIsRUFBSyxLQUFLd0IsRUFBUSxJQUFJLFFBQVEsQ0FBQyxHQUwvQnhCLEVBQUssS0FBS3dCLEVBQVEsSUFBSWpCLENBQVcsQ0FBQyxFQUM5Qi9CLEVBQU04QyxDQUFNLEdBQ2R0QixFQUFLLEtBQUt3QixFQUFRLElBQUloQixDQUFtQixDQUFDLEdBSzlDLE1BQ0YsSUFBSyxTQUNFakMsRUFBUStDLENBQU0sSUFDakJ0QixFQUFLLEtBQUt3QixFQUFRLElBQUlqQixDQUFXLENBQUMsRUFDOUIvQixFQUFNOEMsQ0FBTSxHQUNkdEIsRUFBSyxLQUFLd0IsRUFBUSxJQUFJaEIsQ0FBbUIsQ0FBQyxHQUc5QyxNQUNGLElBQUssTUFDQ2hDLEVBQU04QyxDQUFNLEdBQ2R0QixFQUFLLEtBQUt3QixFQUFRLElBQUlqQixDQUFXLENBQUMsRUFFcEMsS0FDSixDQUdFLEdBQUFQLEVBQUssU0FBVyxFQUNkQSxFQUFLLENBQUMsR0FJU2lDLEdBQUFqQyxFQUFLLENBQUMsQ0FBQyxNQUdyQixDQUNMLE1BQU1OLEVBQVUsQ0FBQSxFQUNoQixVQUFXQyxLQUFPSyxFQUNaTCxHQUNNRCxFQUFBLEtBQUssR0FBR0MsQ0FBRyxFQU1Oc0MsR0FBQXhDLEdBQVVDLENBQU8sQ0FBQyxDQUVyQyxDQUNGLENBQ0EsU0FBU3VDLEdBQWV0QyxFQUFLK0IsRUFBd0IsQ0FDbkQsTUFBTWhDLEVBQVVuQixFQUFRb0IsQ0FBRyxFQUFJQSxFQUFNLENBQUMsR0FBR0EsQ0FBRyxFQUM1QyxVQUFXcUIsS0FBV3RCLEVBQ2hCc0IsRUFBUSxVQUNWa0IsR0FBY2xCLENBQStCLEVBR2pELFVBQVdBLEtBQVd0QixFQUNmc0IsRUFBUSxVQUNYa0IsR0FBY2xCLENBQStCLENBR25ELENBQ0EsU0FBU2tCLEdBQWNsQixFQUFTVSxFQUF3QixFQUNsRFYsSUFBWVYsR0FBZ0JVLEVBQVEsZ0JBSWxDQSxFQUFRLFVBQ1ZBLEVBQVEsVUFBVSxFQUVsQkEsRUFBUSxJQUFJLEVBR2xCLENBTUEsTUFBTW1CLE1BQTZDLDZCQUE2QixFQUMxRUMsR0FBaUIsSUFBSSxJQUNULE9BQU8sb0JBQW9CLE1BQU0sRUFBRSxPQUFROUQsR0FBUUEsSUFBUSxhQUFlQSxJQUFRLFFBQVEsRUFBRSxJQUFLQSxHQUFRLE9BQU9BLENBQUcsQ0FBQyxFQUFFLE9BQU9NLENBQVEsQ0FDdkosRUFDTXlELEdBQW9FQyxHQUFBLEVBQzFFLFNBQVNBLElBQThCLENBQ3JDLE1BQU1DLEVBQW1CLENBQUEsRUFDekIsT0FBQyxXQUFZLFVBQVcsYUFBYSxFQUFFLFFBQVNqRSxHQUFRLENBQ3JDaUUsRUFBQWpFLENBQUcsRUFBSSxZQUFZa0UsRUFBTSxDQUNsQyxNQUFBQyxFQUFNQyxFQUFNLElBQUksRUFDdEIsUUFBU3pFLEVBQUksRUFBRzBFLEVBQUksS0FBSyxPQUFRMUUsRUFBSTBFLEVBQUcxRSxJQUNoQ29ELEVBQUFvQixFQUFLLE1BQU94RSxFQUFJLEVBQUUsRUFFMUIsTUFBTTJFLEVBQU1ILEVBQUluRSxDQUFHLEVBQUUsR0FBR2tFLENBQUksRUFDeEIsT0FBQUksSUFBUSxJQUFNQSxJQUFRLEdBQ2pCSCxFQUFJbkUsQ0FBRyxFQUFFLEdBQUdrRSxFQUFLLElBQUlFLENBQUssQ0FBQyxFQUUzQkUsQ0FDVCxDQUNGLENBQ0QsRUFDQSxDQUFBLE9BQVEsTUFBTyxRQUFTLFVBQVcsUUFBUSxFQUFFLFFBQVN0RSxHQUFRLENBQzVDaUUsRUFBQWpFLENBQUcsRUFBSSxZQUFZa0UsRUFBTSxDQUMxQnRCLEtBQ1IsTUFBQTBCLEVBQU1GLEVBQU0sSUFBSSxFQUFFcEUsQ0FBRyxFQUFFLE1BQU0sS0FBTWtFLENBQUksRUFDL0IsT0FBQXJCLEtBQ1B5QixDQUFBLENBQ1QsQ0FDRCxFQUNNTCxDQUNULENBQ0EsU0FBU25FLEdBQWVFLEVBQUssQ0FDckIsTUFBQXVFLEVBQU1ILEVBQU0sSUFBSSxFQUNoQixPQUFBckIsRUFBQXdCLEVBQUssTUFBT3ZFLENBQUcsRUFDZHVFLEVBQUksZUFBZXZFLENBQUcsQ0FDL0IsQ0FDQSxNQUFNd0UsRUFBb0IsQ0FDeEIsWUFBWUMsRUFBYyxHQUFPQyxFQUFXLEdBQU8sQ0FDakQsS0FBSyxZQUFjRCxFQUNuQixLQUFLLFNBQVdDLENBQ2xCLENBQ0EsSUFBSTFCLEVBQVFoRCxFQUFLMkUsRUFBVSxDQUN6QixNQUFNQyxFQUFjLEtBQUssWUFBYUMsRUFBVSxLQUFLLFNBQ3JELEdBQUk3RSxJQUFRLGlCQUNWLE1BQU8sQ0FBQzRFLEVBQ1YsR0FBVzVFLElBQVEsaUJBQ1YsT0FBQTRFLEVBQ1QsR0FBVzVFLElBQVEsZ0JBQ1YsT0FBQTZFLEVBQ0UsR0FBQTdFLElBQVEsV0FBYTJFLEtBQWNDLEVBQWNDLEVBQVVDLEdBQXFCQyxHQUFjRixFQUFVRyxHQUFxQkMsSUFBYSxJQUFJakMsQ0FBTSxFQUN0SixPQUFBQSxFQUVILE1BQUFrQyxFQUFnQmpGLEVBQVErQyxDQUFNLEVBQ3BDLEdBQUksQ0FBQzRCLEVBQWEsQ0FDaEIsR0FBSU0sR0FBaUJuRixFQUFPZ0UsR0FBdUIvRCxDQUFHLEVBQ3BELE9BQU8sUUFBUSxJQUFJK0QsR0FBdUIvRCxFQUFLMkUsQ0FBUSxFQUV6RCxHQUFJM0UsSUFBUSxpQkFDSCxPQUFBRixFQUVYLENBQ0EsTUFBTXdFLEVBQU0sUUFBUSxJQUFJdEIsRUFBUWhELEVBQUsyRSxDQUFRLEVBTzdDLE9BTklyRSxFQUFTTixDQUFHLEVBQUk4RCxHQUFlLElBQUk5RCxDQUFHLEVBQUk2RCxHQUFtQjdELENBQUcsS0FHL0Q0RSxHQUNHN0IsRUFBQUMsRUFBUSxNQUFPaEQsQ0FBRyxFQUV0QjZFLEdBQ0tQLEVBRUxhLEVBQU1iLENBQUcsRUFDSlksR0FBaUJ0RSxHQUFhWixDQUFHLEVBQUlzRSxFQUFNQSxFQUFJLE1BRXBEL0QsRUFBUytELENBQUcsRUFDUE0sRUFBY1EsR0FBU2QsQ0FBRyxFQUFJZSxFQUFTZixDQUFHLEVBRTVDQSxDQUNULENBQ0YsQ0FDQSxNQUFNZ0IsV0FBK0JkLEVBQW9CLENBQ3ZELFlBQVlLLEVBQVUsR0FBTyxDQUMzQixNQUFNLEdBQU9BLENBQU8sQ0FDdEIsQ0FDQSxJQUFJN0IsRUFBUWhELEVBQUtVLEVBQU9pRSxFQUFVLENBQzVCLElBQUE3RCxFQUFXa0MsRUFBT2hELENBQUcsRUFDckIsR0FBQXVGLEVBQVd6RSxDQUFRLEdBQUtxRSxFQUFNckUsQ0FBUSxHQUFLLENBQUNxRSxFQUFNekUsQ0FBSyxFQUNsRCxNQUFBLEdBRUwsR0FBQSxDQUFDLEtBQUssV0FDSixDQUFDOEUsR0FBVTlFLENBQUssR0FBSyxDQUFDNkUsRUFBVzdFLENBQUssSUFDeENJLEVBQVdzRCxFQUFNdEQsQ0FBUSxFQUN6QkosRUFBUTBELEVBQU0xRCxDQUFLLEdBRWpCLENBQUNULEVBQVErQyxDQUFNLEdBQUttQyxFQUFNckUsQ0FBUSxHQUFLLENBQUNxRSxFQUFNekUsQ0FBSyxHQUNyRCxPQUFBSSxFQUFTLE1BQVFKLEVBQ1YsR0FHWCxNQUFNK0UsRUFBU3hGLEVBQVErQyxDQUFNLEdBQUtwQyxHQUFhWixDQUFHLEVBQUksT0FBT0EsQ0FBRyxFQUFJZ0QsRUFBTyxPQUFTakQsRUFBT2lELEVBQVFoRCxDQUFHLEVBQ2hHMEYsRUFBUyxRQUFRLElBQUkxQyxFQUFRaEQsRUFBS1UsRUFBT2lFLENBQVEsRUFDbkQsT0FBQTNCLElBQVdvQixFQUFNTyxDQUFRLElBQ3RCYyxFQUVNNUUsRUFBV0gsRUFBT0ksQ0FBUSxHQUNuQ3dDLEVBQVFOLEVBQVEsTUFBT2hELEVBQUtVLENBQWUsRUFGbkM0QyxFQUFBTixFQUFRLE1BQU9oRCxFQUFLVSxDQUFLLEdBSzlCZ0YsQ0FDVCxDQUNBLGVBQWUxQyxFQUFRaEQsRUFBSyxDQUNwQixNQUFBeUYsRUFBUzFGLEVBQU9pRCxFQUFRaEQsQ0FBRyxFQUNoQmdELEVBQU9oRCxDQUFHLEVBQzNCLE1BQU0wRixFQUFTLFFBQVEsZUFBZTFDLEVBQVFoRCxDQUFHLEVBQ2pELE9BQUkwRixHQUFVRCxHQUNabkMsRUFBUU4sRUFBUSxTQUFVaEQsRUFBSyxNQUFnQixFQUUxQzBGLENBQ1QsQ0FDQSxJQUFJMUMsRUFBUWhELEVBQUssQ0FDZixNQUFNMEYsRUFBUyxRQUFRLElBQUkxQyxFQUFRaEQsQ0FBRyxFQUNsQyxPQUFBLENBQUNNLEVBQVNOLENBQUcsR0FBSyxDQUFDOEQsR0FBZSxJQUFJOUQsQ0FBRyxJQUNyQytDLEVBQUFDLEVBQVEsTUFBT2hELENBQUcsRUFFbkIwRixDQUNULENBQ0EsUUFBUTFDLEVBQVEsQ0FDZCxPQUFBRCxFQUNFQyxFQUNBLFVBQ0EvQyxFQUFRK0MsQ0FBTSxFQUFJLFNBQVdmLENBQUEsRUFFeEIsUUFBUSxRQUFRZSxDQUFNLENBQy9CLENBQ0YsQ0FDQSxNQUFNMkMsV0FBZ0NuQixFQUFvQixDQUN4RCxZQUFZSyxFQUFVLEdBQU8sQ0FDM0IsTUFBTSxHQUFNQSxDQUFPLENBQ3JCLENBQ0EsSUFBSTdCLEVBQVFoRCxFQUFLLENBT1IsTUFBQSxFQUNULENBQ0EsZUFBZWdELEVBQVFoRCxFQUFLLENBT25CLE1BQUEsRUFDVCxDQUNGLENBQ0EsTUFBTTRGLE9BQXNDTixHQUN0Q08sT0FBdUNGLEdBTXZDRyxHQUFhcEYsR0FBVUEsRUFDdkJxRixFQUFZQyxHQUFNLFFBQVEsZUFBZUEsQ0FBQyxFQUNoRCxTQUFTQyxFQUFJakQsRUFBUWhELEVBQUt1RixFQUFhLEdBQU9DLEVBQVksR0FBTyxDQUMvRHhDLEVBQVNBLEVBQU8sUUFDVixNQUFBa0QsRUFBWTlCLEVBQU1wQixDQUFNLEVBQ3hCbUQsRUFBUy9CLEVBQU1wRSxDQUFHLEVBQ25CdUYsSUFDQzFFLEVBQVdiLEVBQUttRyxDQUFNLEdBQ2xCcEQsRUFBQW1ELEVBQVcsTUFBT2xHLENBQUcsRUFFdkIrQyxFQUFBbUQsRUFBVyxNQUFPQyxDQUFNLEdBRWhDLEtBQU0sQ0FBRSxJQUFLQyxDQUFLLEVBQUlMLEVBQVNHLENBQVMsRUFDbENHLEVBQU9iLEVBQVlNLEdBQVlQLEVBQWFlLEdBQWFDLEdBQy9ELEdBQUlILEVBQUssS0FBS0YsRUFBV2xHLENBQUcsRUFDMUIsT0FBT3FHLEVBQUtyRCxFQUFPLElBQUloRCxDQUFHLENBQUMsRUFDbEIsR0FBQW9HLEVBQUssS0FBS0YsRUFBV0MsQ0FBTSxFQUNwQyxPQUFPRSxFQUFLckQsRUFBTyxJQUFJbUQsQ0FBTSxDQUFDLEVBQ3JCbkQsSUFBV2tELEdBQ3BCbEQsRUFBTyxJQUFJaEQsQ0FBRyxDQUVsQixDQUNBLFNBQVN3RyxFQUFJeEcsRUFBS3VGLEVBQWEsR0FBTyxDQUM5QixNQUFBdkMsRUFBUyxLQUFLLFFBQ2RrRCxFQUFZOUIsRUFBTXBCLENBQU0sRUFDeEJtRCxFQUFTL0IsRUFBTXBFLENBQUcsRUFDeEIsT0FBS3VGLElBQ0MxRSxFQUFXYixFQUFLbUcsQ0FBTSxHQUNsQnBELEVBQUFtRCxFQUFXLE1BQU9sRyxDQUFHLEVBRXZCK0MsRUFBQW1ELEVBQVcsTUFBT0MsQ0FBTSxHQUV6Qm5HLElBQVFtRyxFQUFTbkQsRUFBTyxJQUFJaEQsQ0FBRyxFQUFJZ0QsRUFBTyxJQUFJaEQsQ0FBRyxHQUFLZ0QsRUFBTyxJQUFJbUQsQ0FBTSxDQUNoRixDQUNBLFNBQVNNLEVBQUt6RCxFQUFRdUMsRUFBYSxHQUFPLENBQ3hDLE9BQUF2QyxFQUFTQSxFQUFPLFFBQ2hCLENBQUN1QyxHQUFjeEMsRUFBTXFCLEVBQU1wQixDQUFNLEVBQUcsVUFBV2YsQ0FBVyxFQUNuRCxRQUFRLElBQUllLEVBQVEsT0FBUUEsQ0FBTSxDQUMzQyxDQUNBLFNBQVMwRCxHQUFJaEcsRUFBTyxDQUNsQkEsRUFBUTBELEVBQU0xRCxDQUFLLEVBQ2IsTUFBQXNDLEVBQVNvQixFQUFNLElBQUksRUFHekIsT0FGYzJCLEVBQVMvQyxDQUFNLEVBQ1IsSUFBSSxLQUFLQSxFQUFRdEMsQ0FBSyxJQUV6Q3NDLEVBQU8sSUFBSXRDLENBQUssRUFDUjRDLEVBQUFOLEVBQVEsTUFBT3RDLEVBQU9BLENBQUssR0FFOUIsSUFDVCxDQUNBLFNBQVNpRyxHQUFJM0csRUFBS1UsRUFBTyxDQUN2QkEsRUFBUTBELEVBQU0xRCxDQUFLLEVBQ2IsTUFBQXNDLEVBQVNvQixFQUFNLElBQUksRUFDbkIsQ0FBRSxJQUFLZ0MsRUFBTSxJQUFLUSxHQUFTYixFQUFTL0MsQ0FBTSxFQUNoRCxJQUFJeUMsRUFBU1csRUFBSyxLQUFLcEQsRUFBUWhELENBQUcsRUFDN0J5RixJQUNIekYsRUFBTW9FLEVBQU1wRSxDQUFHLEVBQ055RixFQUFBVyxFQUFLLEtBQUtwRCxFQUFRaEQsQ0FBRyxHQUloQyxNQUFNYyxFQUFXOEYsRUFBSyxLQUFLNUQsRUFBUWhELENBQUcsRUFDL0IsT0FBQWdELEVBQUEsSUFBSWhELEVBQUtVLENBQUssRUFDaEIrRSxFQUVNNUUsRUFBV0gsRUFBT0ksQ0FBUSxHQUNuQ3dDLEVBQVFOLEVBQVEsTUFBT2hELEVBQUtVLENBQWUsRUFGbkM0QyxFQUFBTixFQUFRLE1BQU9oRCxFQUFLVSxDQUFLLEVBSTVCLElBQ1QsQ0FDQSxTQUFTbUcsR0FBWTdHLEVBQUssQ0FDbEIsTUFBQWdELEVBQVNvQixFQUFNLElBQUksRUFDbkIsQ0FBRSxJQUFLZ0MsRUFBTSxJQUFLUSxHQUFTYixFQUFTL0MsQ0FBTSxFQUNoRCxJQUFJeUMsRUFBU1csRUFBSyxLQUFLcEQsRUFBUWhELENBQUcsRUFDN0J5RixJQUNIekYsRUFBTW9FLEVBQU1wRSxDQUFHLEVBQ055RixFQUFBVyxFQUFLLEtBQUtwRCxFQUFRaEQsQ0FBRyxHQUlmNEcsR0FBT0EsRUFBSyxLQUFLNUQsRUFBUWhELENBQUcsRUFDdkMsTUFBQTBGLEVBQVMxQyxFQUFPLE9BQU9oRCxDQUFHLEVBQ2hDLE9BQUl5RixHQUNGbkMsRUFBUU4sRUFBUSxTQUFVaEQsRUFBSyxNQUFnQixFQUUxQzBGLENBQ1QsQ0FDQSxTQUFTb0IsSUFBUSxDQUNULE1BQUE5RCxFQUFTb0IsRUFBTSxJQUFJLEVBQ25CMkMsRUFBVy9ELEVBQU8sT0FBUyxFQUUzQjBDLEVBQVMxQyxFQUFPLFFBQ3RCLE9BQUkrRCxHQUNGekQsRUFBUU4sRUFBUSxRQUFTLE9BQVEsTUFBaUIsRUFFN0MwQyxDQUNULENBQ0EsU0FBU3NCLEVBQWN6QixFQUFZQyxFQUFXLENBQ3JDLE9BQUEsU0FBaUJ5QixFQUFVQyxFQUFTLENBQ3pDLE1BQU1DLEVBQVcsS0FDWG5FLEVBQVNtRSxFQUFTLFFBQ2xCakIsRUFBWTlCLEVBQU1wQixDQUFNLEVBQ3hCcUQsRUFBT2IsRUFBWU0sR0FBWVAsRUFBYWUsR0FBYUMsR0FDL0QsT0FBQ2hCLEdBQWN4QyxFQUFNbUQsRUFBVyxVQUFXakUsQ0FBVyxFQUMvQ2UsRUFBTyxRQUFRLENBQUN0QyxFQUFPVixJQUNyQmlILEVBQVMsS0FBS0MsRUFBU2IsRUFBSzNGLENBQUssRUFBRzJGLEVBQUtyRyxDQUFHLEVBQUdtSCxDQUFRLENBQy9ELENBQUEsQ0FFTCxDQUNBLFNBQVNDLEVBQXFCQyxFQUFROUIsRUFBWUMsRUFBVyxDQUMzRCxPQUFPLFlBQVl0QixFQUFNLENBQ2pCLE1BQUFsQixFQUFTLEtBQUssUUFDZGtELEVBQVk5QixFQUFNcEIsQ0FBTSxFQUN4QnNFLEVBQWNwSCxFQUFNZ0csQ0FBUyxFQUM3QnFCLEVBQVNGLElBQVcsV0FBYUEsSUFBVyxPQUFPLFVBQVlDLEVBQy9ERSxFQUFZSCxJQUFXLFFBQVVDLEVBQ2pDRyxFQUFnQnpFLEVBQU9xRSxDQUFNLEVBQUUsR0FBR25ELENBQUksRUFDdENtQyxFQUFPYixFQUFZTSxHQUFZUCxFQUFhZSxHQUFhQyxHQUMvRCxPQUFDaEIsR0FBY3hDLEVBQ2JtRCxFQUNBLFVBQ0FzQixFQUFZdEYsRUFBc0JELENBQUEsRUFFN0IsQ0FFTCxNQUFPLENBQ0wsS0FBTSxDQUFFLE1BQUF2QixFQUFPLEtBQUFnSCxDQUFLLEVBQUlELEVBQWMsS0FBSyxFQUMzQyxPQUFPQyxFQUFPLENBQUUsTUFBQWhILEVBQU8sS0FBQWdILEdBQVMsQ0FDOUIsTUFBT0gsRUFBUyxDQUFDbEIsRUFBSzNGLEVBQU0sQ0FBQyxDQUFDLEVBQUcyRixFQUFLM0YsRUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFJMkYsRUFBSzNGLENBQUssRUFDN0QsS0FBQWdILENBQUEsQ0FFSixFQUVBLENBQUMsT0FBTyxRQUFRLEdBQUksQ0FDWCxPQUFBLElBQ1QsQ0FBQSxDQUNGLENBRUosQ0FDQSxTQUFTQyxFQUFxQjFFLEVBQU0sQ0FDbEMsT0FBTyxZQUFZaUIsRUFBTSxDQVF2QixPQUFPakIsSUFBUyxTQUFXLEdBQVFBLElBQVMsUUFBVSxPQUFTLElBQUEsQ0FFbkUsQ0FDQSxTQUFTMkUsSUFBeUIsQ0FDaEMsTUFBTUMsRUFBMkIsQ0FDL0IsSUFBSTdILEVBQUssQ0FDQSxPQUFBaUcsRUFBSSxLQUFNakcsQ0FBRyxDQUN0QixFQUNBLElBQUksTUFBTyxDQUNULE9BQU95RyxFQUFLLElBQUksQ0FDbEIsRUFDQSxJQUFBRCxFQUNBLElBQUFFLEdBQ0EsSUFBQUMsR0FDQSxPQUFRRSxHQUNSLE1BQUFDLEdBQ0EsUUFBU0UsRUFBYyxHQUFPLEVBQUssQ0FBQSxFQUUvQmMsRUFBMkIsQ0FDL0IsSUFBSTlILEVBQUssQ0FDUCxPQUFPaUcsRUFBSSxLQUFNakcsRUFBSyxHQUFPLEVBQUksQ0FDbkMsRUFDQSxJQUFJLE1BQU8sQ0FDVCxPQUFPeUcsRUFBSyxJQUFJLENBQ2xCLEVBQ0EsSUFBQUQsRUFDQSxJQUFBRSxHQUNBLElBQUFDLEdBQ0EsT0FBUUUsR0FDUixNQUFBQyxHQUNBLFFBQVNFLEVBQWMsR0FBTyxFQUFJLENBQUEsRUFFOUJlLEVBQTRCLENBQ2hDLElBQUkvSCxFQUFLLENBQ0EsT0FBQWlHLEVBQUksS0FBTWpHLEVBQUssRUFBSSxDQUM1QixFQUNBLElBQUksTUFBTyxDQUNGLE9BQUF5RyxFQUFLLEtBQU0sRUFBSSxDQUN4QixFQUNBLElBQUl6RyxFQUFLLENBQ1AsT0FBT3dHLEVBQUksS0FBSyxLQUFNeEcsRUFBSyxFQUFJLENBQ2pDLEVBQ0EsSUFBSzJILEVBQXFCLEtBQUssRUFDL0IsSUFBS0EsRUFBcUIsS0FBSyxFQUMvQixPQUFRQSxFQUFxQixRQUFRLEVBQ3JDLE1BQU9BLEVBQXFCLE9BQU8sRUFDbkMsUUFBU1gsRUFBYyxHQUFNLEVBQUssQ0FBQSxFQUU5QmdCLEVBQW1DLENBQ3ZDLElBQUloSSxFQUFLLENBQ1AsT0FBT2lHLEVBQUksS0FBTWpHLEVBQUssR0FBTSxFQUFJLENBQ2xDLEVBQ0EsSUFBSSxNQUFPLENBQ0YsT0FBQXlHLEVBQUssS0FBTSxFQUFJLENBQ3hCLEVBQ0EsSUFBSXpHLEVBQUssQ0FDUCxPQUFPd0csRUFBSSxLQUFLLEtBQU14RyxFQUFLLEVBQUksQ0FDakMsRUFDQSxJQUFLMkgsRUFBcUIsS0FBSyxFQUMvQixJQUFLQSxFQUFxQixLQUFLLEVBQy9CLE9BQVFBLEVBQXFCLFFBQVEsRUFDckMsTUFBT0EsRUFBcUIsT0FBTyxFQUNuQyxRQUFTWCxFQUFjLEdBQU0sRUFBSSxDQUFBLEVBR25CLE1BRFEsQ0FBQyxPQUFRLFNBQVUsVUFBVyxPQUFPLFFBQVEsRUFDckQsUUFBU0ssR0FBVyxDQUNsQ1EsRUFBeUJSLENBQU0sRUFBSUQsRUFDakNDLEVBQ0EsR0FDQSxFQUFBLEVBRUZVLEVBQTBCVixDQUFNLEVBQUlELEVBQ2xDQyxFQUNBLEdBQ0EsRUFBQSxFQUVGUyxFQUF5QlQsQ0FBTSxFQUFJRCxFQUNqQ0MsRUFDQSxHQUNBLEVBQUEsRUFFRlcsRUFBaUNYLENBQU0sRUFBSUQsRUFDekNDLEVBQ0EsR0FDQSxFQUFBLENBQ0YsQ0FDRCxFQUNNLENBQ0xRLEVBQ0FFLEVBQ0FELEVBQ0FFLENBQUEsQ0FFSixDQUNBLEtBQU0sQ0FDSkMsR0FDQUMsR0FDQUMsR0FDQUMsRUFDRixFQUEyQ1IsR0FBQSxFQUMzQyxTQUFTUyxHQUE0QjlDLEVBQVlWLEVBQVMsQ0FDeEQsTUFBTVosRUFBbUJZLEVBQVVVLEVBQWE2QyxHQUFrQ0QsR0FBMEI1QyxFQUFhMkMsR0FBMkJELEdBQzdJLE1BQUEsQ0FBQ2pGLEVBQVFoRCxFQUFLMkUsSUFDZjNFLElBQVEsaUJBQ0gsQ0FBQ3VGLEVBQ0N2RixJQUFRLGlCQUNWdUYsRUFDRXZGLElBQVEsVUFDVmdELEVBRUYsUUFBUSxJQUNiakQsRUFBT2tFLEVBQWtCakUsQ0FBRyxHQUFLQSxLQUFPZ0QsRUFBU2lCLEVBQW1CakIsRUFDcEVoRCxFQUNBMkUsQ0FBQSxDQUdOLENBQ0EsTUFBTTJELEdBQTRCLENBQ2hDLElBQWlERCxHQUFBLEdBQU8sRUFBSyxDQUMvRCxFQUlNRSxHQUE2QixDQUNqQyxJQUFpREYsR0FBQSxHQUFNLEVBQUssQ0FDOUQsRUFjTXBELE9BQWtDLFFBQ2xDRCxPQUF5QyxRQUN6Q0QsT0FBa0MsUUFDbENELE9BQXlDLFFBQy9DLFNBQVMwRCxHQUFjQyxFQUFTLENBQzlCLE9BQVFBLEVBQVMsQ0FDZixJQUFLLFNBQ0wsSUFBSyxRQUNJLE1BQUEsR0FDVCxJQUFLLE1BQ0wsSUFBSyxNQUNMLElBQUssVUFDTCxJQUFLLFVBQ0ksTUFBQSxHQUNULFFBQ1MsTUFBQSxFQUNYLENBQ0YsQ0FDQSxTQUFTQyxHQUFjaEksRUFBTyxDQUM1QixPQUFPQSxFQUFNLFVBQWUsQ0FBQyxPQUFPLGFBQWFBLENBQUssRUFBSSxFQUFrQjhILEdBQWM3SCxHQUFVRCxDQUFLLENBQUMsQ0FDNUcsQ0FDQSxTQUFTMkUsRUFBU3JDLEVBQVEsQ0FDcEIsT0FBQXVDLEVBQVd2QyxDQUFNLEVBQ1pBLEVBRUYyRixHQUNMM0YsRUFDQSxHQUNBNEMsR0FDQTBDLEdBQ0FyRCxFQUFBLENBRUosQ0FVQSxTQUFTRyxHQUFTcEMsRUFBUSxDQUNqQixPQUFBMkYsR0FDTDNGLEVBQ0EsR0FDQTZDLEdBQ0EwQyxHQUNBeEQsRUFBQSxDQUVKLENBVUEsU0FBUzRELEdBQXFCM0YsRUFBUTRCLEVBQWFnRSxFQUFjQyxFQUFvQkMsRUFBVSxDQU83RixHQU5JLENBQUN2SSxFQUFTeUMsQ0FBTSxHQU1oQkEsRUFBTyxTQUFjLEVBQUU0QixHQUFlNUIsRUFBTyxnQkFDeEMsT0FBQUEsRUFFSCxNQUFBK0YsRUFBZ0JELEVBQVMsSUFBSTlGLENBQU0sRUFDekMsR0FBSStGLEVBQ0ssT0FBQUEsRUFFSCxNQUFBQyxFQUFhTixHQUFjMUYsQ0FBTSxFQUN2QyxHQUFJZ0csSUFBZSxFQUNWLE9BQUFoRyxFQUVULE1BQU1pRyxFQUFRLElBQUksTUFDaEJqRyxFQUNBZ0csSUFBZSxFQUFxQkgsRUFBcUJELENBQUEsRUFFbEQsT0FBQUUsRUFBQSxJQUFJOUYsRUFBUWlHLENBQUssRUFDbkJBLENBQ1QsQ0FDQSxTQUFTQyxFQUFXeEksRUFBTyxDQUNyQixPQUFBNkUsRUFBVzdFLENBQUssRUFDWHdJLEVBQVd4SSxFQUFNLE9BQVUsRUFFN0IsQ0FBQyxFQUFFQSxHQUFTQSxFQUFNLGVBQzNCLENBQ0EsU0FBUzZFLEVBQVc3RSxFQUFPLENBQ3pCLE1BQU8sQ0FBQyxFQUFFQSxHQUFTQSxFQUFNLGVBQzNCLENBQ0EsU0FBUzhFLEdBQVU5RSxFQUFPLENBQ3hCLE1BQU8sQ0FBQyxFQUFFQSxHQUFTQSxFQUFNLGNBQzNCLENBSUEsU0FBUzBELEVBQU0rQyxFQUFVLENBQ2pCLE1BQUFnQyxFQUFNaEMsR0FBWUEsRUFBUyxRQUMxQixPQUFBZ0MsRUFBTS9FLEVBQU0rRSxDQUFHLEVBQUloQyxDQUM1QixDQUtBLE1BQU1aLEdBQWM3RixHQUFVSCxFQUFTRyxDQUFLLEVBQUkyRSxFQUFTM0UsQ0FBSyxFQUFJQSxFQUM1RDRGLEdBQWM1RixHQUFVSCxFQUFTRyxDQUFLLEVBQUkwRSxHQUFTMUUsQ0FBSyxFQUFJQSxFQWdDbEUsU0FBU3lFLEVBQU1pRSxFQUFHLENBQ2hCLE1BQU8sQ0FBQyxFQUFFQSxHQUFLQSxFQUFFLFlBQWMsR0FDakMsQ0M1OEJBLFNBQVNDLEVBQXNCakgsRUFBSWEsRUFBTWlCLEVBQU0sQ0FDN0MsSUFBSUksRUFDSixHQUFJLENBQ0ZBLEVBQU1KLEVBQU85QixFQUFHLEdBQUc4QixDQUFJLEVBQUk5QixFQUFFLENBQzlCLE9BQVFrSCxFQUFLLENBQ1pDLEdBQVlELEVBQUtyRyxDQUFJLENBQ3RCLENBQ0QsT0FBT3FCLENBQ1QsQ0FDQSxTQUFTa0YsRUFBMkJwSCxFQUFJYSxFQUFNaUIsRUFBTSxDQUNsRCxHQUFJOUQsRUFBV2dDLENBQUUsRUFBRyxDQUNsQixNQUFNa0MsRUFBTStFLEVBQXNCakgsRUFBSWEsRUFBTWlCLENBQUksRUFDaEQsT0FBSUksR0FBTzlELEdBQVU4RCxDQUFHLEdBQ3RCQSxFQUFJLE1BQU9nRixHQUFRLENBQ2pCQyxHQUFZRCxFQUFLckcsQ0FBSSxDQUM3QixDQUFPLEVBRUlxQixDQUNSLENBQ0QsTUFBTW1GLEVBQVMsQ0FBQSxFQUNmLFFBQVM5SixFQUFJLEVBQUdBLEVBQUl5QyxFQUFHLE9BQVF6QyxJQUM3QjhKLEVBQU8sS0FBS0QsRUFBMkJwSCxFQUFHekMsQ0FBQyxFQUFHc0QsRUFBTWlCLENBQUksQ0FBQyxFQUMzRCxPQUFPdUYsQ0FDVCxDQUNBLFNBQVNGLEdBQVlELEVBQUtyRyxFQUFNLENBQzlCLFFBQVEsTUFBTSxJQUFJLE1BQU0sNEJBQTRCQSxDQUFJLEVBQUUsQ0FBQyxFQUMzRCxRQUFRLE1BQU1xRyxDQUFHLENBQ25CLENBQ0EsU0FBU0ksR0FBS0MsRUFBUyxDQUNyQixRQUFRLEtBQUtDLEdBQVlELENBQU8sQ0FBQyxDQUNuQyxDQUNBLFNBQVNDLEdBQVlELEVBQVMsQ0FDNUIsT0FBTyxJQUFJLE1BQU0sZ0JBQWdCQSxDQUFPLEVBQUUsQ0FDNUMsQ0FHQSxJQUFJRSxHQUF3QixDQUFBLEVBSTVCLFNBQVNDLEdBQU1DLEVBQVFDLEVBQUlDLEVBQVMsQ0FDbEMsT0FBT0MsR0FBUUgsRUFBUUMsRUFBSUMsQ0FBTyxDQUNwQyxDQUNBLFNBQVNDLEdBQVFILEVBQVFDLEVBQUksQ0FBRSxVQUFBRyxFQUFXLEtBQUFDLEVBQU0sTUFBQUMsQ0FBTyxFQUFHLEdBQUksQ0FDNUQsSUFBSUMsRUFDQUMsRUFBZSxHQUNmQyxFQUFnQixHQWlDcEIsR0FoQ0lyRixFQUFNNEUsQ0FBTSxHQUNkTyxFQUFTLElBQU1QLEVBQU8sTUFDdEJRLEVBQWUvRSxHQUFVdUUsQ0FBTSxHQUN0QmIsRUFBV2EsQ0FBTSxHQUMxQk8sRUFBUyxJQUFNUCxFQUNmSyxFQUFPLElBQ0VuSyxFQUFROEosQ0FBTSxHQUN2QlMsRUFBZ0IsR0FDaEJELEVBQWVSLEVBQU8sS0FBS2IsQ0FBVSxFQUNyQ29CLEVBQVMsSUFBTVAsRUFBTyxJQUFLVSxHQUNyQnRGLEVBQU1zRixDQUFDLEVBQ0ZBLEVBQUUsTUFDRnZCLEVBQVd1QixDQUFDLEVBQ1pDLEVBQVNELENBQUMsRUFDVkUsRUFBWUYsQ0FBQyxFQUNicEIsRUFBc0JvQixFQUFHLGNBQWMsRUFFdkNmLEdBQUssZ0JBQWdCLENBQy9CLEdBQ1FpQixFQUFZWixDQUFNLEVBQ3ZCQyxFQUNGTSxFQUFTLElBQU1qQixFQUFzQlUsRUFBUSxjQUFjLEVBRTNETyxFQUFTLEtBQ0hNLEdBQ0ZBLElBQ0twQixFQUEyQk8sRUFBUSxpQkFBa0IsQ0FBQ2MsQ0FBUyxDQUFDLEdBSTNFUCxFQUFTekssR0FFUG1LLEdBQU1JLEVBQU0sQ0FDZCxNQUFNVSxFQUFhUixFQUNuQkEsRUFBUyxJQUFNSSxFQUFTSSxFQUFVLENBQUUsQ0FDckMsQ0FDRCxJQUFJRixFQUNBQyxFQUFhekksR0FBTyxDQUN0QndJLEVBQVUzSixFQUFPLE9BQVMsSUFBTSxDQUM5Qm9JLEVBQXNCakgsRUFBSSxlQUFlLENBQy9DLENBQ0EsRUFDTXRCLEVBQVcwSixFQUFnQixDQUFFLEVBQUdYLEdBQ3BDLE1BQU1rQixFQUFNLElBQU0sQ0FDaEIsR0FBSzlKLEVBQU8sT0FFWixHQUFJK0ksRUFBSSxDQUNOLE1BQU16RyxFQUFXdEMsRUFBTyxPQUNwQm1KLEdBQVFHLElBQWlCQyxFQUFnQmpILEVBQVMsS0FBSyxDQUFDeUMsRUFBR3JHLEtBQU1rQixFQUFXbUYsRUFBR2xGLEVBQVNuQixFQUFDLENBQUMsQ0FBQyxFQUFJa0IsRUFBVzBDLEVBQVV6QyxDQUFRLE1BQzFIOEosR0FDRkEsSUFDRnBCLEVBQTJCUSxFQUFJLGNBQWUsQ0FDNUN6RyxFQUNBekMsSUFBYStJLEdBQXdCLE9BQVMvSSxFQUM5QytKLENBQ1YsQ0FBUyxFQUNEL0osRUFBV3lDLEVBRW5CLE1BQ010QyxFQUFPLElBQUcsQ0FFaEIsRUFDRThKLEVBQUksYUFBZSxDQUFDLENBQUNmLEVBQ3JCLElBQUkzSCxFQUNBZ0ksSUFBVSxPQUNaaEksRUFBWTBJLEVBRVoxSSxFQUFZLElBQU0sQ0FDaEIwSSxHQUNOLEVBRUUsTUFBTTlKLEVBQVMsSUFBSWtCLEdBQWVtSSxFQUFRakksQ0FBUyxFQUNuRCxPQUFJMkgsRUFDRUcsRUFDRlksSUFFQWpLLEVBQVdHLEVBQU8sTUFFcEJBLEVBQU8sSUFBRyxFQUVMLElBQU1BLEVBQU8sTUFDdEIsQ0FDQSxTQUFTeUosRUFBU2hLLEVBQU9zSyxFQUF1QixJQUFJLElBQU8sQ0FDekQsR0FBSSxDQUFDekssRUFBU0csQ0FBSyxHQUFLc0ssRUFBSyxJQUFJdEssQ0FBSyxFQUNwQyxPQUFPQSxFQUVULEdBREFzSyxFQUFLLElBQUl0SyxDQUFLLEVBQ1ZULEVBQVFTLENBQUssRUFDZixRQUFTZixFQUFJLEVBQUdBLEVBQUllLEVBQU0sT0FBUWYsSUFDaEMrSyxFQUFTaEssRUFBTWYsQ0FBQyxFQUFHcUwsQ0FBSSxVQUNoQnRLLGFBQWlCLElBQzFCQSxFQUFNLFFBQVEsQ0FBQ3VLLEVBQUdqTCxJQUFRLENBQ3hCMEssRUFBU2hLLEVBQU0sSUFBSVYsQ0FBRyxFQUFHZ0wsQ0FBSSxDQUNuQyxDQUFLLFVBQ1F0SyxhQUFpQixJQUMxQkEsRUFBTSxRQUFTc0YsR0FBTSxDQUNuQjBFLEVBQVMxRSxFQUFHZ0YsQ0FBSSxDQUN0QixDQUFLLE1BRUQsV0FBV2hMLEtBQU8sT0FBTyxLQUFLVSxDQUFLLEVBQ2pDZ0ssRUFBU2hLLEVBQU1WLENBQUcsRUFBR2dMLENBQUksRUFFN0IsT0FBT3RLLENBQ1QsQ0N0SkEsSUFBSXdLLEVBQVUsR0FFZCxNQUFNQyxFQUFnQjlGLEVBQVMsQ0FDN0IsTUFBTyxVQUNQLFNBQVUsQ0FBQyxFQUNYLFdBQVksQ0FBQyxDQUNmLENBQWtCLEVBRVorRixHQUErQixDQUNuQyxTQUFVLENBQUMsQ0FDYixFQUVBdEIsR0FDRSxJQUFNcUIsRUFBYyxTQUNwQixDQUFDRSxFQUFVQyxJQUFTLENBQ2xCLEdBQU1ILEVBQWMsUUFBVSxlQUFpQkEsRUFBYyxRQUFVLFdBR3ZFLFVBQVdJLEtBQU9GLEVBQ1pDLEVBQUssU0FBU0MsQ0FBRyxHQUdqQkEsRUFBSSxlQUNOQSxFQUFJLGNBQWMsY0FBYyxJQUFJLFlBQVksV0FBVyxDQUFDLENBR2xFLENBQ0YsRUFFQSxNQUFNQyxHQUF1QixJQUFJLGlCQUFrQkMsR0FBYyxDQUMvRCxVQUFVQyxLQUFLRCxFQUNILFVBQUFFLEtBQVdELEVBQUUsYUFBYyxDQUNoQyxHQUFBQyxFQUFRLFdBQWEsS0FBSyxhQUMzQixTQUVGLE1BQU1DLEVBQUtELEVBQ0QsVUFBQUosS0FBT0gsR0FBYyxTQUM3QixHQUFHRyxFQUFJLFVBQ0ssVUFBQXZMLEtBQU91TCxFQUFJLFNBQ25CLEdBQUdBLEVBQUksU0FBU3ZMLENBQUcsRUFBRSxVQUFZNEwsRUFBSSxDQUNuQyxVQUFVQyxLQUFTTixFQUFJLFNBQVN2TCxDQUFHLEVBQUUsT0FDL0J1TCxFQUFBLFNBQVN2TCxDQUFHLEVBQUUsUUFBUSxvQkFBb0IsU0FBVXVMLEVBQUksU0FBU3ZMLENBQUcsRUFBRSxPQUFPLEVBRXhFOEwsR0FBUVAsQ0FBRyxFQUNuQnZMLEVBQUt1TCxFQUFJLFNBQVN2TCxDQUFHLEVBQUUsUUFBUSxDQUNwQyxFQUlSLENBRUosQ0FBQyxFQUVELFNBQVMsaUJBQWlCLG1CQUFxQitMLEdBQWMsQ0FFM0QsR0FEQVosRUFBYyxNQUFRLFNBQVMsV0FDM0IsU0FBUyxhQUFlLGVBQWlCQSxFQUFjLFFBQVUsV0FBWSxDQUMxREssR0FBQSxRQUFRLFNBQVMsS0FBTSxDQUMxQyxVQUFXLEdBQ1gsUUFBUyxFQUFBLENBQ1YsRUFFVSxVQUFBRCxLQUFPSixFQUFjLFNBQzFCSSxFQUFJLGVBQ05BLEVBQUksY0FBYyxjQUFjLElBQUksWUFBWSxXQUFXLENBQUMsRUFHdEQsVUFBQVMsS0FBT2IsRUFBYyxXQUN6QmEsRUFBSSxTQUdSQSxFQUFJLE9BQU8saUJBQWlCLFVBQVdBLEVBQUksT0FBTyxDQUV0RCxDQUNGLENBQUMsRUFFRCxTQUFTQyxHQUF1QkQsRUFBb0MsQ0FDbEUsT0FBUUQsR0FBYyxDQUNoQixHQUFBLENBQ0YsTUFBTUcsRUFBSUgsRUFDVixHQUFHQyxFQUFJLFNBQVUsQ0FDWEEsRUFBQSxNQUFNLEtBQUtFLENBQUMsRUFDaEIsTUFDRixDQUNBLE1BQU1DLEVBQU0sS0FBSyxNQUFNRCxFQUFFLElBQUksRUFDdkJsSixFQUFTLFNBQVMsY0FBY21KLEVBQUksZUFBZSxDQUFDLEVBQ3BEQyxFQUFPRCxFQUFJLGFBQWEsRUFDeEJFLEVBQVNGLEVBQUksZUFBZSxFQUNsQyxHQUFJLENBQUNuSixFQUNHLE1BQUEsSUFBSSxNQUFNLDBCQUEwQixFQUV0Q3NKLEdBQUEsQ0FDSixTQUFVSCxFQUFJLGVBQWUsRUFDN0IsY0FBZW5KLEVBQ2YsY0FBZUEsRUFDZixhQUFjLEtBQ2QsUUFBUyxTQUFZLENBQUMsRUFDdEIsTUFBTyxLQUNQLFFBQVMsS0FDVCxZQUFhLEtBQ2IsV0FBWSxJQUFBLEVBQ1hvSixFQUFNQyxDQUFNLFFBQ1RILEVBQUcsQ0FDVCxRQUFRLE1BQU1BLENBQUMsRUFDZixRQUFRLE1BQU1ILENBQUUsQ0FDbEIsQ0FBQSxDQUVKLENBRUEsZUFBZU8sR0FBTWYsRUFBbUJnQixFQUFrQkYsRUFBZ0IsQ0hqSDFFLElBQUFHLEVBQUFDLEVBQUFDLEVHa0hFLElBQUkxSixFQUFTdUksRUFBSSxjQUNqQixHQUFJLENBQUN2SSxFQUFRLENBQ1AsR0FBQSxDQUFDdUksRUFBSSxjQUNELE1BQUEsSUFBSSxNQUFNLHdCQUF3QixFQUUxQ3ZJLEVBQVN1SSxFQUFJLGFBQ2YsQ0FDTSxNQUFBb0IsRUFBSUosRUFBUyxNQUFNLEdBQUcsRUFDdEJLLEVBQVdELEVBQUUsQ0FBQyxFQUNkRSxFQUFhRixFQUFFLE9BQVMsRUFBSUEsRUFBRSxDQUFDLEVBQUksR0FFbkNHLEVBQVEsU0FBUyxjQUN2QkEsRUFBTSxXQUFXOUosQ0FBTSxFQUNqQixNQUFBK0osRUFBbUJELEVBQU0seUJBQXlCVCxDQUFNLEVBQ3hEVyxFQUFXRCxFQUFpQixXQUNsQyxPQUFRSCxFQUFVLENBQ2hCLElBQUssWUFDSCxLQUFPNUosRUFBTyxZQUNMQSxFQUFBLFlBQVlBLEVBQU8sVUFBVSxFQUV0Q0EsRUFBTyxZQUFZK0osQ0FBZ0IsRUFDbkMsTUFDRixJQUFLLGFBQ0lQLEVBQUF4SixFQUFBLGFBQUEsTUFBQXdKLEVBQVksYUFBYU8sRUFBa0IvSixHQUNsRCxNQUNGLElBQUssZUFDSXlKLEVBQUF6SixFQUFBLGFBQUEsTUFBQXlKLEVBQVksYUFBYU0sRUFBa0IvSixHQUNsRCxNQUNGLElBQUssYUFDSUEsRUFBQSxhQUFhK0osRUFBa0IvSixFQUFPLFVBQVUsRUFDdkQsTUFDRixJQUFLLFlBQ0hBLEVBQU8sWUFBWStKLENBQWdCLEVBQ25DLE1BQ0YsSUFBSyxZQUNITCxFQUFBMUosRUFBTyxhQUFQLE1BQUEwSixFQUFtQixhQUFhSyxFQUFrQi9KLEVBQU8sYUFDekQsS0FHSixDQUVBLEdBQUc2SixFQUFZLENBQ1BGLE1BQUFBLEVBQUlFLEVBQVcsTUFBTSxHQUFHLEVBQ3hCSSxFQUFhTixFQUFFLENBQUMsRUFDaEJPLEVBQWVQLEVBQUUsQ0FBQyxFQUN4QixPQUFPTSxFQUFZLENBQ2pCLElBQUssU0FDSCxPQUFPQyxFQUFjLENBQ25CLElBQUssT0FDSEYsRUFBUyxlQUFlLEVBQ3hCLEtBQ0osQ0FDQSxLQUNKLENBQ0YsQ0FDRixDQUVBLFNBQVNHLEdBQWdCQyxFQUF1QkMsRUFBd0IsQ0FDaEUsTUFBQUMsRUFBVyxJQUFJLFNBQVNGLENBQUksRUFDbEMsT0FBT0MsRUFBTyxPQUFRLENBQ3BCLElBQUssTUFDSUEsRUFBQSxJQUFNQSxFQUFPLElBQU0sSUFBTSxJQUFJLGdCQUFnQkMsQ0FBZSxFQUFFLFdBQ3JFLE1BQ0YsSUFBSyxPQUVIRCxFQUFPLEtBQU9DLEVBQ2QsS0FDSixDQUNGLENBRUEsZUFBZUMsR0FBV2hDLEVBQW1CaUMsRUFBV25HLEVBQWdCLENBQ3RFLE1BQU1vRyxFQUFhLE9BQU9ELEdBQVEsU0FBV0EsRUFBTUEsRUFBSWpDLENBQUcsRUFDM0MsSUFBSSxTQUNuQixNQUFNOEIsRUFBeUIsQ0FDN0IsSUFBS25DLEVBQVV1QyxFQUNmLFlBQWEsR0FDYixPQUFRLEdBQ1IsT0FBQXBHLENBQUEsRUFHQyxHQUFBa0UsRUFBSSxjQUFjLFVBQVksT0FBUSxDQUN2QyxNQUFNNkIsRUFBTzdCLEVBQUksY0FDakI0QixHQUFnQkMsRUFBTUMsQ0FBTSxDQUM5QixDQUVBLEdBQUc5QixFQUFJLGNBQ0MsTUFBQUEsRUFBSSxZQUFZOEIsQ0FBTSxFQUN6QkEsRUFBTyxRQUFRLE9BR3BCLE1BQU0vSSxFQUFNLE1BQU0sTUFBTStJLEVBQU8sSUFBS0EsQ0FBTSxFQUUxQyxHQUFHOUIsRUFBSSxZQUVGLENBRFEsTUFBTUEsRUFBSSxXQUFXakgsQ0FBRyxFQUMzQixPQUdWLEdBQUlpSCxFQUFJLFFBQ0MsT0FBQUEsRUFBSSxRQUFRakgsQ0FBRyxFQUdsQixNQUFBK0gsRUFBUyxNQUFNL0gsRUFBSSxPQUNsQixPQUFBZ0ksR0FBTWYsRUFBSyxZQUFhYyxDQUFNLENBQ3ZDLENBRUEsU0FBU3FCLEdBQVNuQyxFQUF3QyxDQUNqRCxNQUFBLENBQ0wsS0FBT29DLElBQ0RwQyxFQUFBLFFBQVUsTUFBT2pILEdBQWtCLENBQy9CLE1BQUErSCxFQUFTLE1BQU0vSCxFQUFJLE9BQ2xCLE9BQUFnSSxHQUFNZixFQUFLb0MsRUFBd0J0QixDQUFNLENBQUEsRUFFM0MsQ0FDTCxHQUFHdUIsR0FBT3JDLENBQUcsQ0FBQSxHQUdqQixHQUFJc0MsRUFBV3RDLENBQUcsQ0FBQSxDQUV0QixDQUVBLFNBQVN1QyxFQUFRdkMsRUFBb0MsQ0FDNUMsTUFBQSxDQUNMLE9BQVN3QyxJQUNILE9BQU9BLEdBQWEsU0FDbEJ4QyxFQUFBLGNBQWdCLFNBQVMsY0FBY3dDLENBQVEsRUFFL0N4QyxFQUFBLGNBQWdCd0MsRUFBU3hDLENBQUcsRUFFM0JtQyxHQUFTbkMsQ0FBRyxHQUVyQixPQUFTbkosSUFDUG1KLEVBQUksWUFBY25KLEVBQ1gwTCxFQUFRdkMsQ0FBRyxHQUVwQixNQUFRbkosSUFDTm1KLEVBQUksV0FBYW5KLEVBQ1YwTCxFQUFRdkMsQ0FBRyxHQUVwQixHQUFHbUMsR0FBU25DLENBQUcsRUFDZixHQUFHc0MsRUFBV3RDLENBQUcsQ0FBQSxDQUVyQixDQUVBLFNBQVNzQyxFQUFXdEMsRUFBOEIsQ0FDekMsTUFBQSxDQUNMLFVBQVcsSUFBTSxDQUNYLEdBQUEsQ0FBQ0EsRUFBSSxNQUNELE1BQUEsSUFBSSxNQUFNLG9CQUFvQixFQUV0Q0EsRUFBSSxNQUFNLElBQUksQ0FDaEIsQ0FBQSxDQUVKLENBRUEsU0FBU3FDLEdBQU9yQyxFQUF1QyxDQUNqRCxHQUFBLENBQUNBLEVBQUksY0FDRCxNQUFBLElBQUksTUFBTSwrQkFBK0IsRUFFN0MsR0FBQSxDQUFDQSxFQUFJLGFBQ0MsT0FBQUEsRUFBSSxjQUFjLFFBQVMsQ0FDakMsSUFBSyxTQUNIQSxFQUFJLGFBQWUsUUFDbkIsTUFDRixJQUFLLE9BQ0hBLEVBQUksYUFBZSxTQUNuQixNQUNGLFFBQ0VBLEVBQUksYUFBZSxZQUNuQixLQUNKLENBRUYsT0FBQUEsRUFBSSxjQUFjLGlCQUFpQkEsRUFBSSxhQUFjQSxFQUFJLE9BQU8sRUFDekQsQ0FDTCxJQUFNaUMsSUFDQWpDLEVBQUEsTUFBUSxNQUFPUSxHQUFxQixDQUN0Q0EsR0FBQSxNQUFBQSxFQUFJLGlCQUNPd0IsR0FBQWhDLEVBQUtpQyxFQUFLLEtBQUssQ0FBQSxFQUVyQixDQUNMLEdBQUdNLEVBQVF2QyxDQUFHLEVBQ2QsR0FBR3NDLEVBQVd0QyxDQUFHLENBQUEsR0FHckIsS0FBT2lDLElBQ0RqQyxFQUFBLE1BQVEsTUFBT1EsR0FBcUIsQ0FDdENBLEdBQUEsTUFBQUEsRUFBSSxpQkFDT3dCLEdBQUFoQyxFQUFLaUMsRUFBSyxNQUFNLENBQUEsRUFFdEIsQ0FDTCxHQUFHTSxFQUFRdkMsQ0FBRyxFQUNkLEdBQUdzQyxFQUFXdEMsQ0FBRyxDQUFBLEdBR3JCLEdBQUdzQyxFQUFXdEMsQ0FBRyxDQUFBLENBRXJCLENBRUEsU0FBU3lDLEdBQVN6QyxFQUE0QixDQUNyQyxNQUFBLENBQ0wsR0FBS00sR0FBa0IsQ0FDakIsR0FBQSxDQUFDTixFQUFJLGNBQ0QsTUFBQSxJQUFJLE1BQU0sd0JBQXdCLEVBRTFDLE9BQUFBLEVBQUksYUFBZU0sRUFDWitCLEdBQU9yQyxDQUFHLENBQ25CLENBQUEsQ0FFSixDQUVBLFNBQVMwQyxHQUFLakMsRUFBMEIsQ0FDL0IsTUFBQSxDQUNMLE1BQVFrQyxHQUFzQixDQUU1QixHQURBbEMsRUFBSSxTQUFXa0MsRUFDWixDQUFDbEMsRUFBSSxRQUFTLE9BQU9pQyxHQUFLakMsQ0FBRyxFQUM3QixHQUFBLENBQUNBLEVBQUksU0FBVSxDQUNWLEtBQUFBLEVBQUksTUFBTSxPQUFTLEdBQUcsQ0FDcEIsTUFBQUQsRUFBS0MsRUFBSSxNQUFNLE1BQU0sRUFDdkJELEdBQ0pDLEVBQUksUUFBUUQsQ0FBRSxDQUNoQixDQUNBQyxFQUFJLE1BQVEsRUFDZCxDQUNBLE9BQU9pQyxHQUFLakMsQ0FBRyxDQUNqQixFQUNBLE1BQU8sSUFBTSxDQUNYQSxFQUFJLE1BQVEsRUFDZCxFQUNBLE1BQU8sSUFBTSxDQUNYQSxFQUFJLE9BQU8sUUFDWGIsRUFBYyxXQUFhQSxFQUFjLFdBQVcsT0FBT1YsR0FBS0EsSUFBTXVCLENBQUcsQ0FDM0UsQ0FBQSxDQUVKLENBRUEsU0FBU21DLElBQWMsQ0FDZCxNQUFBLENBQ0wsUUFBVVgsSUFDRXRDLEVBQUFzQyxFQUNILENBQ0wsR0FBR1csR0FBTSxDQUFBLEdBR2IsSUFBSyxDQUFDWCxFQUFhdkQsSUFBc0IsQ0FDdkMsTUFBTW1FLEVBQU8sQ0FDWCxnQkFBaUIsR0FDakIsR0FBR25FLENBQUEsRUFFQytCLEVBQXNCLENBQzFCLE9BQVEsSUFBSSxZQUFZZCxFQUFVc0MsRUFBS1ksQ0FBSSxFQUMzQyxTQUFVLEdBQ1YsUUFBUyxPQUNULE1BQU8sQ0FBQyxDQUFBLEVBRU4sT0FBQXBDLEVBQUEsUUFBV0MsR0FBdUJELENBQUcsRUFDM0JiLEVBQUEsV0FBVyxLQUFLYSxDQUFHLEVBQzFCaUMsR0FBS2pDLENBQUcsQ0FDakIsQ0FBQSxDQUVKLENBRUEsU0FBU0YsR0FBV1AsRUFBc0IsQ0FDakMsTUFBQSxDQUFDOEMsRUFBZ0JOLElBQXFCLENBQ3JDLE1BQUFuQyxFQUFLLFNBQVMsY0FBY21DLENBQVEsRUFDMUMsR0FBRyxDQUFDbkMsRUFDSSxNQUFBLElBQUksTUFBTSxtQkFBbUIsRUFFL0IsTUFBQTBDLEVBQVd2QyxHQUFjLENBQzdCLE1BQU13QyxFQUFNeEMsRUFBRyxPQUNmLE9BQU93QyxFQUFJLFFBQVMsQ0FDbEIsSUFBSyxRQUNILE1BQU1DLEVBQVFELEVBQ2QsT0FBT0MsRUFBTSxLQUFNLENBQ2pCLElBQUssV0FDQ2pELEVBQUEsTUFBTThDLENBQWtDLEVBQUlHLEVBQU0sUUFDdEQsTUFDRixRQUNNakQsRUFBQSxNQUFNOEMsQ0FBa0MsRUFBSUcsRUFBTSxNQUN0RCxLQUNKLENBQ0EsTUFDRixJQUFLLFNBQ0NqRCxFQUFBLE1BQU04QyxDQUFrQyxFQUFLRSxFQUEwQixNQUMzRSxNQUNGLElBQUssV0FDQ2hELEVBQUEsTUFBTThDLENBQWtDLEVBQUtFLEVBQTRCLE1BQzdFLEtBQ0osQ0FBQSxFQUdJRSxFQUFVLENBQ2QsTUFBQUosRUFDQSxTQUFBTixFQUNBLE9BQVEsQ0FBQyxFQUNULFFBQVNuQyxFQUNULFFBQUEwQyxDQUFBLEVBS0YsT0FIUUcsRUFBQSxPQUFPLEtBQUssUUFBUSxFQUN4QmxELEVBQUEsU0FBUzhDLENBQUssRUFBSUksRUFFZjdDLEVBQUcsUUFBUyxDQUNqQixJQUFLLFFBRUgsT0FEY0EsRUFDRCxLQUFNLENBQ2pCLElBQUssT0FDSzZDLEVBQUEsT0FBTyxLQUFLLE9BQU8sRUFDM0IsS0FDSixDQUNBLE1BQ0YsSUFBSyxTQUNLQSxFQUFBLE9BQU8sS0FBSyxRQUFRLEVBQzVCLE1BQ0YsSUFBSyxXQUNLQSxFQUFBLE9BQU8sS0FBSyxPQUFPLEVBQzNCLEtBQ0osQ0FDVSxVQUFBNUMsS0FBUzRDLEVBQVEsT0FDdEI3QyxFQUFBLGlCQUFpQkMsRUFBT3lDLENBQU8sRUFFN0IsTUFBQSxDQUNMLEdBQUdJLEdBQU9uRCxDQUFHLENBQUEsQ0FDZixDQUVKLENBQ0EsU0FBU21ELEdBQVVuRCxFQUEyQyxDQUNyRCxNQUFBLENBQ0wsTUFBT0EsRUFBSSxNQUNYLE1BQU8sQ0FBQzhDLEVBQWdCQyxLQUN0QnhFLEdBQU0sSUFBTXlCLEVBQUksTUFBTThDLENBQWtDLEVBQUcsTUFBT00sRUFBWXJELElBQWMsQ0FDcEYsTUFBQWdELEVBQVFLLEVBQU9yRCxDQUFJLENBQUEsQ0FDMUIsRUFDTSxDQUNMLEdBQUdvRCxHQUFPbkQsQ0FBRyxDQUFBLEdBR2pCLEtBQU1PLEdBQVFQLENBQUcsQ0FBQSxDQUVyQixDQUVPLFNBQVNxRCxFQUFNYixFQUFtQyxDQUNqRCxNQUFBL0IsRUFBTSxTQUFTLGNBQWMrQixDQUFRLEVBQzNDLEdBQUcsQ0FBQy9CLEVBQ0ksTUFBQSxJQUFJLE1BQU0sMEJBQTBCLEVBRzVDLE1BQU1ULEVBQW9CLENBQ3hCLFNBQUF3QyxFQUNBLGNBQWUvQixFQUNmLFFBQVMsTUFBT0QsR0FBYyxDQUN4QixHQUFBLENBQUNSLEVBQUksTUFDRCxNQUFBLElBQUksTUFBTSw0QkFBNEIsRUFFOUNBLEVBQUksTUFBTVEsQ0FBRSxDQUNkLEVBQ0EsY0FBZSxLQUNmLGFBQWMsS0FDZCxNQUFPLEtBQ1AsUUFBUyxLQUNULFlBQWEsS0FDYixXQUFZLElBQUEsRUFHQSxPQUFBWixFQUFBLFNBQVMsS0FBS0ksQ0FBRyxFQUV4QixDQUNMLEdBQUd5QyxHQUFTekMsQ0FBRyxFQUNmLEdBQUdxQyxHQUFPckMsQ0FBRyxDQUFBLENBRWpCLENBRU8sU0FBU29ELEdBQVNFLEVBQStDLENBQ3RFLE1BQU10RCxFQUF1QixDQUMzQixNQUFPbEcsRUFBU3dKLENBQVksRUFDNUIsU0FBVSxDQUFDLENBQUEsRUFHQyxPQUFBekQsR0FBQSxTQUFTLEtBQUtHLENBQUcsRUFFeEIsQ0FDTCxHQUFHbUQsR0FBT25ELENBQUcsQ0FBQSxDQUVqQixDQUVPLFNBQVN1RCxJQUFnQixDQUM5QixPQUFPWCxHQUFNLENBQ2YsQ0MvZUFXLEtBQU8sUUFBUSx1QkFBdUIsRUFFdEMsTUFBTUMsR0FBY0QsS0FBTyxJQUFJLHFCQUFzQixDQUFFLGdCQUFpQixHQUFPLEVBRXpFRSxFQUFXTCxHQUFNLENBQ25CLFdBQVksR0FDWixNQUFPLEVBQ1AsdUJBQXdCLEVBQzFCLENBQUMsRUFDQSxLQUFLLGFBQWMsZUFBZSxFQUNsQyxLQUFLLFFBQVMsZ0JBQWdCLEVBRTNCTSxHQUF3QkwsRUFBTSxnQkFBZ0IsRUFDakQsSUFBSSwyQkFBMkIsRUFDL0IsS0FBSyxXQUFXLEVBRWJNLEdBQVdOLEVBQU0sbUJBQW1CLEVBQ3ZDLElBQUksaUJBQWlCLEVBRWxCTyxHQUFrQlAsRUFBTSxjQUFjLEVBQ3pDLElBQUksaUJBQWlCLEVBQ3JCLE9BQU8sSUFBTSxDQUNaSSxFQUFTLE1BQU0sdUJBQXlCLEVBQzFDLENBQUMsRUFDQSxPQUFPLG1CQUFtQixFQUU3QkEsRUFBUyxNQUFNLGFBQWVJLEdBQWUsQ0FDckMsTUFBQUMsRUFBUUQsRUFBVyxPQUFTLEVBQzlCQyxJQUNGTCxFQUFTLE1BQU0sdUJBQXlCLElBRTFDRCxHQUFZLE1BQU1NLENBQUssRUFDakIsTUFBQXpELEVBQUssU0FBUyxjQUFjLGtCQUFrQixFQUNoREEsSUFDREEsRUFBQSxNQUFNLFdBQWF5RCxFQUFRLFNBQVcsVUFDM0MsQ0FBQyxFQUVETCxFQUFTLE1BQU0seUJBQTJCTSxHQUEyQixDQUMvREEsSUFDRlAsR0FBWSxNQUFNLEVBQ2xCRSxHQUFzQixVQUFVLEVBQ2hDQyxHQUFTLFVBQVUsRUFFdkIsQ0FBQyxFQUVERixFQUFTLE1BQU0sUUFBVU8sR0FBVSxDQUUzQixNQUFBQyxFQURLLFNBQVMsY0FBYyxnQkFBZ0IsRUFDMUIsYUFBYSxxQkFBcUIsRUFDcERILEVBQVFFLEdBQVNDLEVBQ3ZCVCxHQUFZLE1BQU1NLENBQUssRUFDcEJBLEdBQVNMLEVBQVMsTUFBTSxXQUFXLE9BQVMsR0FDN0NHLEdBQWdCLFVBQVUsRUFFdEIsTUFBQU0sRUFBVyxTQUFTLGNBQWMsa0JBQWtCLEVBQ3REQSxJQUNLQSxFQUFBLE1BQU0sV0FBYUosRUFBUSxTQUFXLFVBQ2pELENBQUMsRUFFRFQsRUFBTSxVQUFVLEVBQ2IsS0FBSyxrQkFBa0IsRUFDdkIsS0FBSyxNQUFNIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyXX0=
